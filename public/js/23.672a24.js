(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Awk":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("lwsE"),a=r.n(n),o=r("W8MJ"),i=r.n(o),s=r("rywy"),l=function(){function e(t){a()(this,e),this.uri=t}return i()(e,[{key:"list",value:function(e){return Object(s.a)({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(s.a)({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(s.a)({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(s.a)({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(s.a)({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"4Aq5":function(e,t,r){var n=r("EyLs");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,a);n.locals&&(e.exports=n.locals)},"5vkU":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("lwsE"),a=r.n(n),o=r("W8MJ"),i=r.n(o),s=r("7W2i"),l=r.n(s),c=r("a1gu"),u=r.n(c),d=r("Nsbk"),p=r.n(d),f=r("rywy");function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u()(this,r)}}var h=function(e){l()(r,e);var t=m(r);function r(){return a()(this,r),t.call(this,"proyectosProductos")}return i()(r,[{key:"getProcesosFromProyectoProducto",value:function(e){return Object(f.a)({url:"/proyectosProductos/getProcesosFromProyectoProducto",method:"post",data:e})}},{key:"insertMultipleOrdenesAbiertas",value:function(e){return Object(f.a)({url:"/proyectosProductos/insertMultipleOrdenesAbiertas",method:"post",data:e})}},{key:"arreglarListado",value:function(){return Object(f.a)({url:"/proyectosProductos/arreglarListado",method:"post"})}},{key:"store",value:function(e){return Object(f.a)({url:"/proyectosProductos/store",method:"post",data:e})}},{key:"updateMultiplePlanCorte",value:function(e){return Object(f.a)({url:"/proyectosProductos/updateMultiplePlanCorte",method:"post",data:e})}},{key:"deleteFromProject",value:function(e){return Object(f.a)({url:"/proyectosProductos/deleteFromProject",method:"post",data:e})}},{key:"deleteMultipleFromProject",value:function(e){return Object(f.a)({url:"/proyectosProductos/deleteMultipleFromProject",method:"post",data:e})}},{key:"getOrdenesAbiertasList",value:function(e){return Object(f.a)({url:"/proyectosProductos/getOrdenesAbiertasList",method:"get",params:e})}},{key:"getOrdenesTerminadasSinEmbarcarList",value:function(e){return Object(f.a)({url:"/proyectosProductos/getOrdenesTerminadasSinEmbarcarList",method:"get",params:e})}},{key:"getDocumentosFromOrden",value:function(e){return Object(f.a)({url:"/proyectosProductos/getDocumentosFromOrden",method:"get",params:e})}},{key:"OrdenesTerminadasSinEmbarcar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(f.a)({url:"/"+this.uri+"/"+e+"/OrdenesTerminadasSinEmbarcar",method:"get"})}},{key:"getOrdenesAbiertasByCliente",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(f.a)({url:"/"+this.uri+"/"+e+"/getOrdenesAbiertasByCliente",method:"get"})}}]),r}(r("+Awk").a)},"7W2i":function(e,t,r){var n=r("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},"7sWw":function(e,t,r){var n=r("VyIk");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,a);n.locals&&(e.exports=n.locals)},BYu5:function(e,t,r){"use strict";var n=r("PHCl");r.n(n).a},EyLs:function(e,t,r){(t=r("JPst")(!1)).push([e.i,"\n.pagination-container[data-v-68c28e9d] {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden[data-v-68c28e9d] {\n  display: none;\n}\n",""]),e.exports=t},"HF+U":function(e,t,r){"use strict";r("7sWw");var n="@@wavesContext";function a(e,t){function r(r){var n=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),o=a.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var i=o.getBoundingClientRect(),s=o.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":((s=document.createElement("span")).className="waves-ripple",s.style.height=s.style.width=Math.max(i.width,i.height)+"px",o.appendChild(s)),a.type){case"center":s.style.top=i.height/2-s.offsetHeight/2+"px",s.style.left=i.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(r.pageY-i.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(r.pageX-i.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=a.color,s.className="waves-ripple z-active",!1}}return e[n]?e[n].removeHandle=r:e[n]={removeHandle:r},r}var o={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[n].removeHandle,!0),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[n].removeHandle,!1),e[n]=null,delete e[n]}},i=function(e){e.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(i)),o.install=i;t.a=o},Nsbk:function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},PHCl:function(e,t,r){var n=r("i+JD");"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(n,a);n.locals&&(e.exports=n.locals)},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},SksO:function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},VyIk:function(e,t,r){(t=r("JPst")(!1)).push([e.i,".waves-ripple {\n    position: absolute;\n    border-radius: 100%;\n    background-color: rgba(0, 0, 0, 0.15);\n    background-clip: padding-box;\n    pointer-events: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    -webkit-transform: scale(0);\n    transform: scale(0);\n    opacity: 1;\n}\n\n.waves-ripple.z-active {\n    opacity: 0;\n    -webkit-transform: scale(2);\n    transform: scale(2);\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\n}",""]),e.exports=t},Xut5:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),a=r.n(n),o=r("yXPU"),i=r.n(o),s=r("k9pt"),l=(r("wd/R"),r("7tbW"),r("2F5j"),r("HF+U")),c=r("5vkU"),u=r("+Awk"),d=new u.a("documentoTipo"),p=new u.a("perfilEmpresa"),f=new u.a("embarques"),m=new c.a("proyectosProductos"),h={name:"EmbarqueList",created:function(){this.getList()},destroyed:function(){},data:function(){return{listUrl:"/proyectosProductos",deleteUrl:"/proyectosProductos/delete",loading:!0,list:[],page:1,pageSize:100,total:0,pagesSizeOptions:[100,300,600,1e3],selectSearch:"numero_parte_cliente",presearch:"",search:"",query:{page:1,limit:15,keyword:"",role:""},formVisible:!1,formTitle:"",activeName:"first",clientes:[],current:{id:0,cliente_id:0,cliente_nombre:"",fecha_salida:"",cantidad_bultos:"",compania_transporte:"",nombre_chofer:"",placas_transporte:"",documentos:[]},rules:{cliente_nombre:[{required:!0,message:"Selecciona un Cliente",trigger:"blur"}],fecha_salida:[{required:!0,message:"Ingresa una Fecha de Salida",trigger:"blur"}],cantidad_bultos:[{required:!0,message:"Ingresa una Cantidad de Bultos",trigger:"blur"}],compania_transporte:[{required:!0,message:"Ingresa una Compañía de Transporte",trigger:"blur"}],nombre_chofer:[{required:!0,message:"Ingresa un Nombre de Chofer",trigger:"blur"}]},ordenesAbiertasList:[],ordenesAbiertasSeleccionadas:[],ordenesAbiertasNuevas:[],OrdenesTodasList:[],agregarOrdenesVisible:!1,dialogoDocumentos:!1,dialogoDocumentosAgregarVisible:!1,fileList:[],loadingTipoDocumentos:!1,documentosTiposSelect:[{id:4,nombre:"Foto"},{id:5,nombre:"Otro"}],documento_tipo_id:"",perfil_empresa_list:[],dialogoPrePrint:!1,perfil_empresa:{id:0}}},components:{Pagination:s.a},directives:{waves:l.a},computed:{disableEditar:function(){return 0==this.current.id},disablePrint:function(){return 0==this.perfil_empresa.id},searching:function(){var e=this;if(this.loading=!0,!this.search)return this.loading=!1,this.total=this.list.length,this.list;this.page=1;var t=[];return"numero_parte_cliente"==this.selectSearch?this.list.forEach((function(r){r.proyectos_productos.forEach((function(n){n.producto.numero_parte_cliente.toLowerCase().includes(e.search.toLowerCase())&&t.push(r)}))})):"numero_parte_embarque"==this.selectSearch&&(t=this.list.filter((function(t){return!!t.numero_parte.toLowerCase().includes(e.search.toLowerCase())}))),this.loading=!1,t},displayData:function(){return this.total=this.searching.length,this.searching.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)}},methods:{handleSizeChange:function(e){this.pageSize=e},handleCurrentChangePagination:function(e){this.page=e},handlePresearchChange:function(){this.presearch||(this.search="")},handleSearch:function(){this.getList(),this.search=this.presearch},getDocumentoTipos:function(){var e=this;return i()(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.list();case 2:r=t.sent,n=r.data,r.meta,e.documentosTiposSelect=n;case 6:case"end":return t.stop()}}),t)})))()},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoDocumentosAgregarVisible=!1})).catch((function(e){}))},handleAgregarDocumento:function(){this.dialogoDocumentosAgregarVisible=!0},submitUpload:function(){var e=this;if("undefined"==e.fileList[0]||null==e.fileList[0])return e.notificarError("Selecciona un archivo para subir"),!1;var t=this.$loading({target:"#dialogoAgregarDocumento > .el-dialog"}),r=new FormData;r.append("file",e.fileList[0].raw),r.append("embarque_id",e.current.id),r.append("documento_tipo_id",e.documento_tipo_id),axios.post("/embarques/documentos/store",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(r){e.$message.success("Guardado correctamente."),e.current.documentos=r.data.documentos,e.fileList=[],t.close(),e.dialogoDocumentosAgregarVisible=!1})).catch((function(r){e.$message.error("Hubo un error."),console.log(r),t.close(),e.dialogoDocumentosAgregarVisible=!1}))},deleteDocumento:function(e){var t=this;t.loading=!0;var r=this.$loading({target:"#dialogoAgregarDocumento > .el-dialog"});axios.post("/embarques/documentos/delete",{embarque_id:t.current.id,documento_id:e.id}).then((function(n){t.current.documentos.map((function(e){return e.id})).indexOf(e.id);t.current.documentos=n.data.documentos,t.$message.success("Eliminado correctamente."),r.close()})).catch((function(e){t.$message.error("Hubo un error."),console.log(e)}))},handleProgress:function(e,t,r){t.raw.status="uploading"},handleSuccess:function(e,t,r){t.raw.status="success"},handleUploadChange:function(e,t){this.fileList=t.slice(-1)},disableTabOrdenesAbiertasTerminadas:function(){0==this.current.cliente_id?(this.ordenesAbiertasList.forEach((function(e){e.disabled=!0})),this.ordenesAbiertasSeleccionadas.forEach((function(e){e.disabled=!0}))):(this.ordenesAbiertasList.forEach((function(e){e.disabled=!1})),this.ordenesAbiertasSeleccionadas.forEach((function(e){e.disabled=!1})))},getPerfilesEmpresa:function(){var e=this;return i()(a.a.mark((function t(){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.list();case 2:r=t.sent,n=r.data,r.meta,e.perfil_empresa_list=n;case 6:case"end":return t.stop()}}),t)})))()},getClientes:function(){var e=this;axios.get("/clientes").then((function(t){e.clientes=t.data,e.loadingClientes=!1})).catch((function(t){e.$message.error("Hubo un error."),console.log(t)}))},changeCliente:function(){var e=this;""!=this.current.cliente_nombre?(this.clientes.forEach((function(t){t.nombre_cliente==e.current.cliente_nombre&&(e.current.cliente_id=t.id)})),this.getProyectosProductosList()):(this.current.cliente_id=0,this.ordenesAbiertasSeleccionadas=[]),this.disableTabOrdenesAbiertasTerminadas()},desembarcar:function(e){var t=this;this.$confirm("Esto eliminara permanentemente la orden del Embarque. Quieres continuar?","Advertencia",{confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",type:"warning"}).then((function(){t.ordenesAbiertasSeleccionadas.forEach((function(r){e.id==r.id&&t.ordenesAbiertasList.push({key:r.id,label:"Orden: "+r.numero_parte+" - "+r.producto.numero_parte_cliente,disabled:!1})}));var r=t.ordenesAbiertasSeleccionadas.map((function(e){return e.id})).indexOf(e.id);t.ordenesAbiertasSeleccionadas.splice(r,1)})).catch((function(){t.$message({type:"info",message:"Eliminacion cancelada"})}))},handleAddOrden:function(){this.agregarOrdenesVisible=!0},handleConfirmOrdenes:function(){var e=this;this.ordenesAbiertasNuevas.forEach((function(t){e.OrdenesTodasList.forEach((function(r){if(r.id==t){e.ordenesAbiertasSeleccionadas.push(r);var n=e.ordenesAbiertasList.map((function(e){return e.key})).indexOf(r.id);e.ordenesAbiertasList.splice(n,1)}}))})),this.ordenesAbiertasNuevas=[],this.agregarOrdenesVisible=!1,this.updateOrdenesAbiertasList()},updateOrdenesAbiertasList:function(){var e=this;this.ordenesAbiertasList.forEach((function(e){e.disabled=!1})),this.ordenesAbiertasList.forEach((function(t){e.ordenesAbiertasSeleccionadas.forEach((function(e){t.id==e.id&&(t.disabled=!0)}))}))},filterMethod:function(e,t){return console.log("ITEM"),console.log(t),t.label.toLowerCase().includes(e.toLowerCase())},handleChangeTransfer:function(){console.log(this.ordenesAbiertasSeleccionadas)},handleClick:function(e,t){},handleCreateForm:function(){this.formVisible=!0,this.formTitle="Agregar Nuevo Embarque",this.clearCurrent(),this.getClientes()},handleEditForm:function(){this.formTitle="Editar Embarque",this.getClientes(),this.getProyectosProductosList(),this.formVisible=!0},handleDocumentos:function(){this.dialogoDocumentos=!0},setCurrent:function(e){this.$refs.tableList.setCurrentRow(e)},handleCurrentChangeTable:function(e){console.log("CURRENT"),console.log(e),null!=e&&(this.current=e,this.current.cliente_nombre=e.cliente.nombre_cliente,this.ordenesAbiertasSeleccionadas=e.proyectos_productos)},handleFilter:function(){this.query.page=1,this.getList()},getList:function(){var e=this;return i()(a.a.mark((function t(){var r,n,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,r=e.query,r.limit,r.page,t.next=4,f.list(e.query);case 4:n=t.sent,o=n.data,n.meta,console.log("GET LIST DATA"),console.log(o),e.list=o,e.pagesSizeOptions=[100,300,600,1e3],e.pagesSizeOptions.push(e.list.length),e.pageSize=e.list.length,e.loading=!1;case 14:case"end":return t.stop()}}),t)})))()},getProyectosProductosList:function(){var e=this;return i()(a.a.mark((function t(){var r,n,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$loading({target:"#embarqueTransfer"}),t.next=3,m.OrdenesTerminadasSinEmbarcar(e.current.cliente_id);case 3:n=t.sent,o=n.data,n.meta,e.ordenesAbiertasList=[],e.OrdenesTodasList=o,console.log("ORDENES ABIERTAS LIST/DATA"),console.log(e.ordenesAbiertasList),o.forEach((function(t){1==t.Proceso.proyecto_proceso.es_ultimo&&e.ordenesAbiertasList.push({key:t.id,label:"Orden: "+t.numero_parte+" - "+t.producto.numero_parte_cliente,disabled:!1})})),e.updateOrdenesAbiertasList(),r.close();case 13:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;if(0==this.ordenesAbiertasSeleccionadas.length)return this.$message.error("Debes agregar una Orden Terminada al Embarque"),!1;this.$refs.form.validate((function(t){if(!t)return!1;var r=e.$loading({target:".el-dialog"});f.store({current:e.current,ordenesSeleccionadas:e.ordenesAbiertasSeleccionadas.map((function(e){return e.id}))}).then((function(t){e.$message({message:"Embarque creado correctamente.",type:"success",duration:5e3}),e.formVisible=!1,e.clearCurrent(),e.getList(),r.close()})).catch((function(e){console.log(e),r.close()}))}))},deleteRow:function(e){var t=this;this.$confirm("Esto eliminara permanentemente la Orden Abierta. Quieres continuar?","Advertencia",{confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",type:"warning"}).then((function(){var r=t;r.loading=!0,axios.post(r.deleteUrl,{id:e}).then((function(e){r.getList(),r.$message.success("Eliminado correctamente."),r.loading=!1})).catch((function(e){r.$message.error("Hubo un error."),console.log(e),r.loading=!1}))})).catch((function(){t.$message({type:"info",message:"Eliminacion cancelada"})}))},clearCurrent:function(){this.setCurrent(),this.ordenesAbiertasSeleccionadas=[],this.current={id:0,cliente_id:0,fecha_salida:"",cantidad_bultos:"",compania_transporte:"",nombre_chofer:"",placas_transporte:""}},handlePrePrintForm:function(){this.dialogoPrePrint=!0,this.getPerfilesEmpresa()},handleClosePrePrint:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoPrePrint=!1})).catch((function(e){}))}}},g=(r("BYu5"),r("KHd+")),b=Object(g.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("div",{staticClass:"filter-item"},[r("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"Buscar",clearable:""},on:{change:function(t){return e.handleSearch()}},model:{value:e.presearch,callback:function(t){e.presearch=t},expression:"presearch"}},[r("el-select",{attrs:{slot:"prepend",size:"small",placeholder:"Select"},slot:"prepend",model:{value:e.selectSearch,callback:function(t){e.selectSearch=t},expression:"selectSearch"}},[r("el-option",{attrs:{label:"Núm. de Parte (Producto)",value:"numero_parte_cliente"}}),e._v(" "),r("el-option",{attrs:{label:"Núm. de Parte (Embarque)",value:"numero_parte_embarque"}})],1)],1)],1)]),e._v(" "),r("div",{staticClass:"filter-container"},[r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleCreateForm()}}},[e._v(" "+e._s(e.$t("table.add"))+" ")]),e._v(" "),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-edit",disabled:e.disableEditar},on:{click:function(t){return e.handleEditForm()}}},[e._v("Editar")]),e._v(" "),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-document",disabled:e.disableEditar},on:{click:function(t){return e.handleDocumentos()}}},[e._v("Documentos")]),e._v(" "),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"danger",size:"small",icon:"el-icon-delete",disabled:!0},on:{click:function(t){return e.deleteRow(e.current)}}},[e._v("Eliminar")]),e._v(" "),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",disabled:e.disableEditar},on:{click:function(t){return e.handlePrePrintForm()}}},[e._v("Generar Hoja de Salida")])],1),e._v(" "),r("el-row",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableList",staticStyle:{width:"100%","word-wrap":"break-word"},attrs:{data:e.displayData,"highlight-current-row":"",sortable:"",border:"","tooltip-effect":"light",fit:""},on:{"current-change":e.handleCurrentChangeTable}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.proyectos_productos,(function(t,n){return r("li",[r("p",[e._v("Numero de Parte (Local): "+e._s(t.numero_parte)+" - Numero de Parte (Cliente): "+e._s(t.producto.numero_parte_cliente))])])}))}}])}),e._v(" "),r("af-table-column",{attrs:{prop:"numero_parte",label:"Numero Parte","show-overflow-tooltip":"",width:"110"}}),e._v(" "),r("el-table-column",{attrs:{prop:"fecha_salida",label:"Fecha de Salida",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",[e._v("\n                        "+e._s(e._f("moment")(t.row.fecha_salida,"YYYY-MMM-DD"))+"\n                    ")])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"cantidad_bultos",label:"Cantidad de Bultos",align:"center","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"compania_transporte",label:"Compañia de Transporte","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"nombre_chofer",label:"Nombre del Chofer","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"placas_transporte",label:"Placas",align:"center","show-overflow-tooltip":""}})],1)],1),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"end"}},[r("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next","page-size":e.pageSize,"page-sizes":e.pagesSizeOptions,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChangePagination}})],1),e._v(" "),r("el-dialog",{attrs:{title:e.formTitle,visible:e.formVisible,width:"60%"},on:{"update:visible":function(t){e.formVisible=t}}},[r("div",{staticClass:"form-container"},[r("el-form",{ref:"form",attrs:{model:e.current,rules:e.rules,"label-position":"top","label-width":"150px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"Fecha de Salida",prop:"fecha_salida"}},[r("el-date-picker",{attrs:{type:"date"},model:{value:e.current.fecha_salida,callback:function(t){e.$set(e.current,"fecha_salida",t)},expression:"current.fecha_salida"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"Cliente",prop:"cliente_nombre"}},[r("el-select",{attrs:{"value-key":"nombre_cliente",clearable:"",filterable:""},on:{change:function(t){return e.changeCliente()}},model:{value:e.current.cliente_nombre,callback:function(t){e.$set(e.current,"cliente_nombre",t)},expression:"current.cliente_nombre"}},e._l(e.clientes,(function(e){return r("el-option",{key:e.id,attrs:{label:e.nombre_cliente,value:e.nombre_cliente}})})),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"Cantidad de Bultos",prop:"cantidad_bultos"}},[r("el-input-number",{attrs:{min:1},model:{value:e.current.cantidad_bultos,callback:function(t){e.$set(e.current,"cantidad_bultos",t)},expression:"current.cantidad_bultos"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}})],1),e._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"Compañía de Transporte",prop:"compania_transporte"}},[r("el-input",{model:{value:e.current.compania_transporte,callback:function(t){e.$set(e.current,"compania_transporte",t)},expression:"current.compania_transporte"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"Nombre del Chofer",prop:"nombre_chofer"}},[r("el-input",{model:{value:e.current.nombre_chofer,callback:function(t){e.$set(e.current,"nombre_chofer",t)},expression:"current.nombre_chofer"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:5}},[r("el-form-item",{attrs:{label:"Placas del Vehiculo",prop:"placas_transporte"}},[r("el-input",{model:{value:e.current.placas_transporte,callback:function(t){e.$set(e.current,"placas_transporte",t)},expression:"current.placas_transporte"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6}})],1),e._v(" "),r("el-row",[r("el-col",[r("el-tabs",{attrs:{stretch:!0},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"Ordenes Terminadas",name:"first"}},[r("el-row",[r("div",{staticClass:"filter-container"},[r("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleAddOrden()}}},[e._v("\n                                            Agregar Orden\n                                        ")])],1)]),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"space-around",id:"embarqueTransfer"}},[r("el-col",[r("el-table",{ref:"ordenesSeleccionadas",staticStyle:{width:"100%","word-wrap":"break-word"},attrs:{data:e.ordenesAbiertasSeleccionadas,sortable:"",border:"","tooltip-effect":"light",fit:""}},[r("af-table-column",{attrs:{type:"index",align:"center",sortable:"",fixed:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"numero_parte",label:"Numero de Parte","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"producto.numero_parte_cliente",label:"Numero de Parte (Cliente)","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(r){return e.desembarcar(t.row)}}})]}}])})],1)],1)],1)],1)],1)],1)],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"float-left",on:{click:function(t){e.formVisible=!1}}},[e._v("Cancelar")]),e._v(" "),r("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.handleSubmit()}}},[e._v("Confirmar")])],1)]),e._v(" "),r("el-dialog",{attrs:{title:"Agregar Ordenes",visible:e.agregarOrdenesVisible,width:"60%"},on:{"update:visible":function(t){e.agregarOrdenesVisible=t}}},[r("div",{staticClass:"form-container"},[r("el-transfer",{attrs:{filterable:"","filter-method":e.filterMethod,titles:["Ordenes Terminadas","Embarque"],"button-texts":["Quitar","Embarcar"],data:e.ordenesAbiertasList},on:{change:e.handleChangeTransfer},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.option;return r("span",{},[e._v(e._s(n.label))])}}]),model:{value:e.ordenesAbiertasNuevas,callback:function(t){e.ordenesAbiertasNuevas=t},expression:"ordenesAbiertasNuevas"}})],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"float-left",on:{click:function(t){e.agregarOrdenesVisible=!1}}},[e._v("Cancelar")]),e._v(" "),r("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.handleConfirmOrdenes()}}},[e._v("Confirmar")])],1)]),e._v(" "),r("el-dialog",{attrs:{id:"dialogoPrePrint",title:"Generar Hoja de Salida",visible:e.dialogoPrePrint,width:"23%"},on:{"update:visible":function(t){e.dialogoPrePrint=t}}},[r("el-row",[r("el-col",[e._v("\n                    Perfil de Empresa:\n                    "),r("el-select",{attrs:{"value-key":"id"},model:{value:e.perfil_empresa,callback:function(t){e.perfil_empresa=t},expression:"perfil_empresa"}},e._l(e.perfil_empresa_list,(function(e){return r("el-option",{key:e.id,attrs:{label:e.nombre_corto,value:e}})})),1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"float-left",attrs:{size:"small"},on:{click:function(t){e.dialogoPrePrint=!1,e.fileList=[]}}},[e._v("Cancelar")]),e._v(" "),r("router-link",{attrs:{target:"_blank",to:{name:"hoja_de_salida_download",params:{id:e.current.id,perfil_empresa:JSON.stringify(e.perfil_empresa)}}}},[r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",disabled:e.disablePrint}},[e._v("\n                    Generar Hoja de Salida\n                ")])],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{width:"50%",id:"dialogoListDocumento",visible:e.dialogoDocumentos},on:{"update:visible":function(t){e.dialogoDocumentos=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-document"}),e._v(" Documentos\n        ")]),e._v(" "),r("div",{staticClass:"filter-container"},[r("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.handleAgregarDocumento}},[e._v("Agregar")])],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.current.documentos,border:"",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"nombre_real",label:"Documento","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"documento_tipo.nombre",label:"Tipo de Documento","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"usuario.name",label:"Cargado Por","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"created_at",label:"Fecha de carga",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("moment")(t.row.created_at,"YYYY-MMM-DD, h:mm a"))+"\n                ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("a",{staticClass:"el-button el-button--primary el-button--mini",attrs:{type:"button",title:"descargar",href:"/embarques/downloadDocumento/"+t.row.id}},[r("i",{staticClass:"el-icon-download"})]),e._v(" "),r("el-button",{attrs:{type:"danger",title:"eliminar",size:"mini",icon:"el-icon-delete"},on:{click:function(r){return e.deleteDocumento(t.row)}}})]}}])})],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"float-left",on:{click:function(t){e.dialogoDocumentos=!1}}},[e._v("Cerrar")])],1)],1),e._v(" "),r("el-dialog",{attrs:{id:"dialogoAgregarDocumento",title:"Agregar Documento a Embarque",visible:e.dialogoDocumentosAgregarVisible,"before-close":e.handleClose,width:"23%"},on:{"update:visible":function(t){e.dialogoDocumentosAgregarVisible=t}}},[r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[e._v("\n                Tipo de Documento\n            ")])],1),e._v(" "),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTipoDocumentos,expression:"loadingTipoDocumentos"}],attrs:{"value-key":"id"},model:{value:e.documento_tipo_id,callback:function(t){e.documento_tipo_id=t},expression:"documento_tipo_id"}},e._l(e.documentosTiposSelect,(function(e){return r("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})})),1)],1)],1),e._v(" "),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"filter-container"},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","file-list":e.fileList,"auto-upload":!1,"on-change":e.handleUploadChange,"on-progress":e.handleProgress,"on-success":e.handleSuccess,drag:""}},[r("i",{staticClass:"el-icon-upload"}),e._v(" "),r("div",{staticClass:"el-upload__text"},[e._v("Arrastra un archivo aqui o "),r("em",[e._v("click para subir")])])])],1)])],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"float-left",on:{click:function(t){e.dialogoDocumentosAgregarVisible=!1,e.fileList=[]}}},[e._v("Cancelar")]),e._v(" "),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:e.submitUpload}},[e._v("Guardar")])],1)],1)],1)}),[],!1,null,null,null);t.default=b.exports},a1gu:function(e,t,r){var n=r("cDf5"),a=r("PJYZ");e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}},bHOZ:function(e,t,r){"use strict";var n=r("4Aq5");r.n(n).a},"i+JD":function(e,t,r){(t=r("JPst")(!1)).push([e.i,"\n.el-select .el-input {\n    width: 180px;\n}\n.el-transfer-panel{\n    width: 35%;\n}\n.input-with-select .el-input-group__prepend {\n    background-color: #fff;\n}\n.pre-formateado {\n    white-space: pre;\n}\n.el-table .cell {\n    word-break: break-word;\n}\n\n\n",""]),e.exports=t},k9pt:function(e,t,r){"use strict";Math.easeInOutQuad=function(e,t,r,n){return(e/=n/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t};var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function a(e,t,r){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=e-a,i=0;t=void 0===t?500:t;!function e(){i+=20;var s,l=Math.easeInOutQuad(i,a,o,t);s=l,document.documentElement.scrollTop=s,document.body.parentNode.scrollTop=s,document.body.scrollTop=s,i<t?n(e):r&&"function"==typeof r&&r()}()}var o={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,15,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&a(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&a(0,800)}}},i=(r("bHOZ"),r("KHd+")),s=Object(i.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[r("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),[],!1,null,"68c28e9d",null);t.a=s.exports}}]);