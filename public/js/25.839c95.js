(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+Awk":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("lwsE"),r=n.n(a),s=n("W8MJ"),o=n.n(s),i=n("rywy"),l=function(){function e(t){r()(this,e),this.uri=t}return o()(e,[{key:"list",value:function(e){return Object(i.a)({url:"/"+this.uri,method:"get",params:e})}},{key:"get",value:function(e){return Object(i.a)({url:"/"+this.uri+"/"+e,method:"get"})}},{key:"store",value:function(e){return Object(i.a)({url:"/"+this.uri,method:"post",data:e})}},{key:"update",value:function(e,t){return Object(i.a)({url:"/"+this.uri+"/"+e,method:"put",data:t})}},{key:"destroy",value:function(e){return Object(i.a)({url:"/"+this.uri+"/"+e,method:"delete"})}}]),e}()},"4Aq5":function(e,t,n){var a=n("EyLs");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},"7sWw":function(e,t,n){var a=n("VyIk");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},BYu5:function(e,t,n){"use strict";var a=n("PHCl");n.n(a).a},EyLs:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"\n.pagination-container[data-v-68c28e9d] {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden[data-v-68c28e9d] {\n  display: none;\n}\n",""]),e.exports=t},"HF+U":function(e,t,n){"use strict";n("7sWw");var a="@@wavesContext";function r(e,t){function n(n){var a=Object.assign({},t.value),r=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),s=r.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),i=s.querySelector(".waves-ripple");switch(i?i.className="waves-ripple":((i=document.createElement("span")).className="waves-ripple",i.style.height=i.style.width=Math.max(o.width,o.height)+"px",s.appendChild(i)),r.type){case"center":i.style.top=o.height/2-i.offsetHeight/2+"px",i.style.left=o.width/2-i.offsetWidth/2+"px";break;default:i.style.top=(n.pageY-o.top-i.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",i.style.left=(n.pageX-o.left-i.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return i.style.backgroundColor=r.color,i.className="waves-ripple z-active",!1}}return e[a]?e[a].removeHandle=n:e[a]={removeHandle:n},n}var s={bind:function(e,t){e.addEventListener("click",r(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[a].removeHandle,!0),e.addEventListener("click",r(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[a].removeHandle,!1),e[a]=null,delete e[a]}},o=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;t.a=s},PHCl:function(e,t,n){var a=n("i+JD");"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,r);a.locals&&(e.exports=a.locals)},RnhZ:function(e,t,n){var a={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id="RnhZ"},VyIk:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".waves-ripple {\n    position: absolute;\n    border-radius: 100%;\n    background-color: rgba(0, 0, 0, 0.15);\n    background-clip: padding-box;\n    pointer-events: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    -webkit-transform: scale(0);\n    transform: scale(0);\n    opacity: 1;\n}\n\n.waves-ripple.z-active {\n    opacity: 0;\n    -webkit-transform: scale(2);\n    transform: scale(2);\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\n}",""]),e.exports=t},Xut5:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),s=n("yXPU"),o=n.n(s),i=n("k9pt"),l=(n("wd/R"),n("7tbW"),n("2F5j"),n("HF+U")),c=n("lwsE"),u=n.n(c),d=n("W8MJ"),p=n.n(d),m=n("7W2i"),f=n.n(m),b=n("a1gu"),g=n.n(b),h=n("Nsbk"),v=n.n(h),y=n("rywy"),j=n("+Awk");function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var w=function(e){f()(n,e);var t=_(n);function n(){return u()(this,n),t.call(this,"proyectosProductos")}return p()(n,[{key:"OrdenesTerminadasSinEmbarcar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(y.a)({url:"/"+this.uri+"/"+e+"/OrdenesTerminadasSinEmbarcar",method:"get"})}},{key:"getOrdenesAbiertasByCliente",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(y.a)({url:"/"+this.uri+"/"+e+"/getOrdenesAbiertasByCliente",method:"get"})}}]),n}(j.a),k=new j.a("embarques"),C=new w("proyectosProductos"),x={name:"EmbarqueList",created:function(){this.getList()},destroyed:function(){},data:function(){return{listUrl:"/proyectosProductos",deleteUrl:"/proyectosProductos/delete",loading:!0,list:[],page:1,pageSize:10,total:0,selectSearch:"numero_parte_cliente",query:{page:1,limit:15,keyword:"",role:""},formVisible:!1,formTitle:"",activeName:"first",clientes:[],current:{id:0,cliente_id:0,cliente_nombre:"",fecha_salida:"",cantidad_bultos:"",compania_transporte:"",nombre_chofer:"",placas_transporte:"",documentos:[]},rules:{cliente_nombre:[{required:!0,message:"Selecciona un Cliente",trigger:"blur"}],fecha_salida:[{required:!0,message:"Ingresa una Fecha de Salida",trigger:"blur"}],cantidad_bultos:[{required:!0,message:"Ingresa una Cantidad de Bultos",trigger:"blur"}],compania_transporte:[{required:!0,message:"Ingresa una Compañía de Transporte",trigger:"blur"}],nombre_chofer:[{required:!0,message:"Ingresa un Nombre de Chofer",trigger:"blur"}]},ordenesAbiertasList:[],ordenesAbiertasSeleccionadas:[],ordenesAbiertasNuevas:[],OrdenesTodasList:[],agregarOrdenesVisible:!1,dialogoDocumentosVisible:!1,dialogoDocumentosAgregarVisible:!1,fileList:[]}},components:{Pagination:i.a},directives:{waves:l.a},computed:{disableEditar:function(){return 0==this.current.id}},methods:{handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoDocumentosAgregarVisible=!1})).catch((function(e){}))},submitUpload:function(){var e=this;if("undefined"==e.fileList[0]||null==e.fileList[0])return e.notificarError("Selecciona un archivo para subir"),!1;var t=this.$loading({target:"#dialogoAgregarDocumento > .el-dialog"}),n=new FormData;n.append("file",e.fileList[0].raw),n.append("embarque_id",e.current.id),axios.post("/embarques/documentos/store",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(n){e.$message.success("Guardado correctamente."),e.current.documentos=n.data.documentos,e.fileList=[],t.close(),e.dialogoDocumentos=!1})).catch((function(n){e.$message.error("Hubo un error."),console.log(n),t.close(),e.dialogoDocumentosAgregarVisible=!1}))},deleteDocumento:function(e){var t=this;t.loading=!0;var n=this.$loading({target:"#dialogoAgregarDocumento > .el-dialog"});axios.post("/embarques/documentos/delete",{embarque_id:t.current.id,documento_id:e.id}).then((function(a){t.current.documentos.map((function(e){return e.id})).indexOf(e.id);t.current.documentos=a.data.documentos,t.$message.success("Eliminado correctamente."),n.close()})).catch((function(e){t.$message.error("Hubo un error."),console.log(e)}))},handleProgress:function(e,t,n){t.raw.status="uploading"},handleSuccess:function(e,t,n){t.raw.status="success"},handleUploadChange:function(e,t){this.fileList=t.slice(-1)},disableTabOrdenesAbiertasTerminadas:function(){0==this.current.cliente_id?(this.ordenesAbiertasList.forEach((function(e){e.disabled=!0})),this.ordenesAbiertasSeleccionadas.forEach((function(e){e.disabled=!0}))):(this.ordenesAbiertasList.forEach((function(e){e.disabled=!1})),this.ordenesAbiertasSeleccionadas.forEach((function(e){e.disabled=!1})))},getClientes:function(){var e=this;axios.get("/clientes").then((function(t){e.clientes=t.data,e.loadingClientes=!1})).catch((function(t){e.$message.error("Hubo un error."),console.log(t)}))},changeCliente:function(){var e=this;console.log("CLIENTE NOMBRE"),console.log(this.current.cliente_nombre),""!=this.current.cliente_nombre?(this.clientes.forEach((function(t){t.nombre_cliente==e.current.cliente_nombre&&(e.current.cliente_id=t.id)})),this.getProyectosProductosList()):(this.current.cliente_id=0,this.ordenesAbiertasSeleccionadas=[]),this.disableTabOrdenesAbiertasTerminadas()},desembarcar:function(e){var t=this;this.$confirm("Esto eliminara permanentemente la orden del Embarque. Quieres continuar?","Advertencia",{confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",type:"warning"}).then((function(){t.ordenesAbiertasSeleccionadas.forEach((function(n){e.id==n.id&&t.ordenesAbiertasList.push({key:n.id,label:"Orden: "+n.numero_parte+" - "+n.producto.numero_parte_cliente,disabled:!1})}));var n=t.ordenesAbiertasSeleccionadas.map((function(e){return e.id})).indexOf(e.id);t.ordenesAbiertasSeleccionadas.splice(n,1)})).catch((function(){t.$message({type:"info",message:"Eliminacion cancelada"})}))},handleAddOrden:function(){this.agregarOrdenesVisible=!0},handleConfirmOrdenes:function(){var e=this;console.log("OA LIST"),console.log(this.ordenesAbiertasList),console.log("OA Seleccionadas"),console.log(this.ordenesAbiertasSeleccionadas),console.log("OA Nuevas"),console.log(this.ordenesAbiertasNuevas),console.log("OA Todas"),console.log(this.OrdenesTodasList);this.ordenesAbiertasNuevas.forEach((function(t){e.OrdenesTodasList.forEach((function(n){if(n.id==t){e.ordenesAbiertasSeleccionadas.push(n);var a=e.ordenesAbiertasList.map((function(e){return e.key})).indexOf(n.id);e.ordenesAbiertasList.splice(a,1)}}))})),this.ordenesAbiertasNuevas=[],this.agregarOrdenesVisible=!1,this.updateOrdenesAbiertasList()},updateOrdenesAbiertasList:function(){var e=this;this.ordenesAbiertasList.forEach((function(e){e.disabled=!1})),this.ordenesAbiertasList.forEach((function(t){e.ordenesAbiertasSeleccionadas.forEach((function(e){t.id==e.id&&(t.disabled=!0)}))}))},filterMethod:function(e,t){return t.initial.toLowerCase().indexOf(e.toLowerCase())>-1},handleChangeTransfer:function(){console.log("CHANGE TRANSFEER"),console.log(this.ordenesAbiertasSeleccionadas)},handleClick:function(e,t){},handleCreateForm:function(){this.formVisible=!0,this.formTitle="Agregar Nuevo Embarque",this.clearCurrent(),this.getClientes()},handleEditForm:function(){this.formTitle="Editar Embarque",this.getClientes(),this.getProyectosProductosList(),this.formVisible=!0},setCurrent:function(e){this.$refs.tableList.setCurrentRow(e)},handleCurrentChangeTable:function(e){console.log("CURRENT"),console.log(e),null!=e&&(this.current=e,this.current.cliente_nombre=e.cliente.nombre_cliente,this.ordenesAbiertasSeleccionadas=e.proyectos_productos)},handleFilter:function(){this.query.page=1,this.getList()},getList:function(){var e=this;return o()(r.a.mark((function t(){var n,a,s,o,i,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,a=n.limit,s=n.page,e.loading=!0,t.next=4,k.list(e.query);case 4:o=t.sent,i=o.data,l=o.meta,console.log("GET LIST DATA"),console.log(i),e.list=i,e.list.forEach((function(e,t){e.index=(s-1)*a+t+1})),e.total=l.total,e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},getProyectosProductosList:function(){var e=this;return o()(r.a.mark((function t(){var n,a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$loading({target:"#embarqueTransfer"}),t.next=3,C.OrdenesTerminadasSinEmbarcar(e.current.cliente_id);case 3:a=t.sent,s=a.data,a.meta,e.ordenesAbiertasList=[],e.OrdenesTodasList=s,console.log("ORDENES ABIERTAS LIST/DATA"),console.log(e.ordenesAbiertasList),s.forEach((function(t){1==t.Proceso.proyecto_proceso.es_ultimo&&e.ordenesAbiertasList.push({key:t.id,label:"Orden: "+t.numero_parte+" - "+t.producto.numero_parte_cliente,disabled:!1})})),e.updateOrdenesAbiertasList(),n.close();case 13:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;if(0==this.ordenesAbiertasSeleccionadas.length)return this.$message.error("Debes agregar una Orden Terminada al Embarque"),!1;this.$refs.form.validate((function(t){if(!t)return!1;var n=e.$loading({target:".el-dialog"});k.store({current:e.current,ordenesSeleccionadas:e.ordenesAbiertasSeleccionadas.map((function(e){return e.id}))}).then((function(t){e.$message({message:"Embarque creado correctamente.",type:"success",duration:5e3}),e.formVisible=!1,e.clearCurrent(),e.getList(),n.close()})).catch((function(e){console.log(e),n.close()}))}))},deleteRow:function(e){var t=this;this.$confirm("Esto eliminara permanentemente la Orden Abierta. Quieres continuar?","Advertencia",{confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",type:"warning"}).then((function(){var n=t;n.loading=!0,axios.post(n.deleteUrl,{id:e}).then((function(e){n.getList(),n.$message.success("Eliminado correctamente."),n.loading=!1})).catch((function(e){n.$message.error("Hubo un error."),console.log(e),n.loading=!1}))})).catch((function(){t.$message({type:"info",message:"Eliminacion cancelada"})}))},clearCurrent:function(){this.setCurrent(),this.ordenesAbiertasSeleccionadas=[],this.current={id:0,cliente_id:0,fecha_salida:"",cantidad_bultos:"",compania_transporte:"",nombre_chofer:"",placas_transporte:""}}}},A=(n("BYu5"),n("KHd+")),E=Object(A.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("div",{staticClass:"filter-item"},[n("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"buscar",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{slot:"append",size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter},slot:"append"})],1)],1),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleCreateForm()}}},[e._v("\n            "+e._s(e.$t("table.add"))+"\n        ")]),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-edit",disabled:e.disableEditar},on:{click:function(t){return e.handleEditForm()}}},[e._v("Editar")]),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"danger",size:"small",icon:"el-icon-delete",disabled:!0},on:{click:function(t){return e.deleteRow(e.current)}}},[e._v("Eliminar")]),e._v(" "),n("router-link",{attrs:{target:"_blank",to:{name:"hoja_de_salida_download",params:{id:e.current.id}}}},[n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",disabled:e.disableEditar}},[e._v("\n                Generar Hoja de Salida\n            ")])],1)],1),e._v(" "),n("el-row",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableList",staticStyle:{width:"100%","word-wrap":"break-word"},attrs:{data:e.list,"highlight-current-row":"",sortable:"",border:"","tooltip-effect":"light",fit:""},on:{"current-change":e.handleCurrentChangeTable}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.proyectos_productos,(function(t,a){return n("li",[n("p",[e._v("Numero de Parte (Local): "+e._s(t.numero_parte)+" - Numero de Parte (Cliente): "+e._s(t.producto.numero_parte_cliente))])])}))}}])}),e._v(" "),n("af-table-column",{attrs:{type:"index",align:"center",sortable:"",fixed:""}}),e._v(" "),n("el-table-column",{attrs:{prop:"fecha_salida",label:"Fecha de Salida","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"cantidad_bultos",label:"Cantidad de Bultos",align:"center","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"compania_transporte",label:"Compañia de Transporte","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"nombre_chofer",label:"Nombre del Chofer","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"placas_transporte",label:"Placas",align:"center","show-overflow-tooltip":""}})],1)],1),e._v(" "),n("el-row",{attrs:{type:"flex",justify:"end"}},[n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{layout:"prev, pager, next",total:e.total,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.getList}})],1),e._v(" "),n("el-dialog",{attrs:{title:e.formTitle,visible:e.formVisible,width:"60%"},on:{"update:visible":function(t){e.formVisible=t}}},[n("div",{staticClass:"form-container"},[n("el-form",{ref:"form",attrs:{model:e.current,rules:e.rules,"label-position":"top","label-width":"150px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"Fecha de Salida",prop:"fecha_salida"}},[n("el-date-picker",{attrs:{type:"date"},model:{value:e.current.fecha_salida,callback:function(t){e.$set(e.current,"fecha_salida",t)},expression:"current.fecha_salida"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"Cliente",prop:"cliente_nombre"}},[n("el-select",{attrs:{"value-key":"nombre_cliente",clearable:"",filterable:""},on:{change:function(t){return e.changeCliente()}},model:{value:e.current.cliente_nombre,callback:function(t){e.$set(e.current,"cliente_nombre",t)},expression:"current.cliente_nombre"}},e._l(e.clientes,(function(e){return n("el-option",{key:e.id,attrs:{label:e.nombre_cliente,value:e.nombre_cliente}})})),1)],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"Cantidad de Bultos",prop:"cantidad_bultos"}},[n("el-input-number",{attrs:{min:1},model:{value:e.current.cantidad_bultos,callback:function(t){e.$set(e.current,"cantidad_bultos",t)},expression:"current.cantidad_bultos"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}})],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"Compañía de Transporte",prop:"compania_transporte"}},[n("el-input",{model:{value:e.current.compania_transporte,callback:function(t){e.$set(e.current,"compania_transporte",t)},expression:"current.compania_transporte"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"Nombre del Chofer",prop:"nombre_chofer"}},[n("el-input",{model:{value:e.current.nombre_chofer,callback:function(t){e.$set(e.current,"nombre_chofer",t)},expression:"current.nombre_chofer"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"Placas del Vehiculo",prop:"placas_transporte"}},[n("el-input",{model:{value:e.current.placas_transporte,callback:function(t){e.$set(e.current,"placas_transporte",t)},expression:"current.placas_transporte"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:6}})],1),e._v(" "),n("el-row",[n("el-col",[n("el-tabs",{attrs:{stretch:!0},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"Ordenes Terminadas",name:"first"}},[n("el-row",[n("div",{staticClass:"filter-container"},[n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.handleAddOrden()}}},[e._v("\n                                            Agregar Orden\n                                        ")])],1)]),e._v(" "),n("el-row",{attrs:{type:"flex",justify:"space-around",id:"embarqueTransfer"}},[n("el-col",[n("el-table",{ref:"ordenesSeleccionadas",staticStyle:{width:"100%","word-wrap":"break-word"},attrs:{data:e.ordenesAbiertasSeleccionadas,sortable:"",border:"","tooltip-effect":"light",fit:""}},[n("af-table-column",{attrs:{type:"index",align:"center",sortable:"",fixed:""}}),e._v(" "),n("el-table-column",{attrs:{prop:"numero_parte",label:"Numero de Parte","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"producto.numero_parte_cliente",label:"Numero de Parte (Cliente)","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(n){return e.desembarcar(t.row)}}})]}}])})],1)],1)],1)],1),e._v(" "),0!=e.current.id?n("el-tab-pane",{attrs:{label:"Documentos"}},[n("div",{staticClass:"filter-container"},[n("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.dialogoDocumentosAgregarVisible=!0}}},[e._v("Agregar")])],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.current.documentos,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",align:"center",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{prop:"nombre_real",label:"Documento","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"created_at",label:"Fecha de carga",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                            "+e._s(e._f("moment")(t.row.created_at,"YYYY-MMM-DD"))+"\n                                        ")]}}],null,!1,2299218527)}),e._v(" "),n("el-table-column",{attrs:{align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("a",{staticClass:"el-button el-button--primary el-button--mini",attrs:{type:"button",title:"descargar",href:"/proyectos/downloadDocumento/"+t.row.id}},[n("i",{staticClass:"el-icon-download"})]),e._v(" "),n("el-button",{attrs:{type:"danger",title:"eliminar",size:"mini",icon:"el-icon-delete"},on:{click:function(n){return e.deleteDocumento(t.row)}}})]}}],null,!1,3471440643)})],1)],1):e._e()],1)],1)],1)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"float-left",on:{click:function(t){e.formVisible=!1}}},[e._v("Cancelar")]),e._v(" "),n("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.handleSubmit()}}},[e._v("Confirmar")])],1)]),e._v(" "),n("el-dialog",{attrs:{title:"Agregar Ordenes",visible:e.agregarOrdenesVisible,width:"60%"},on:{"update:visible":function(t){e.agregarOrdenesVisible=t}}},[n("div",{staticClass:"form-container"},[n("el-transfer",{attrs:{titles:["Ordenes Terminadas","Embarque"],"button-texts":["Quitar","Embarcar"],data:e.ordenesAbiertasList},on:{change:e.handleChangeTransfer},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.option;return n("span",{},[e._v(e._s(a.label))])}}]),model:{value:e.ordenesAbiertasNuevas,callback:function(t){e.ordenesAbiertasNuevas=t},expression:"ordenesAbiertasNuevas"}})],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"float-left",on:{click:function(t){e.agregarOrdenesVisible=!1}}},[e._v("Cancelar")]),e._v(" "),n("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.handleConfirmOrdenes()}}},[e._v("Confirmar")])],1)]),e._v(" "),n("el-dialog",{attrs:{id:"dialogoAgregarDocumento",title:"Agregar Documento a Embarque",visible:e.dialogoDocumentosAgregarVisible,"before-close":e.handleClose,width:"23%"},on:{"update:visible":function(t){e.dialogoDocumentosAgregarVisible=t}}},[n("div",{staticClass:"filter-container"},[n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"","file-list":e.fileList,"auto-upload":!1,"on-change":e.handleUploadChange,"on-progress":e.handleProgress,"on-success":e.handleSuccess,drag:""}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("Arrastra un archivo aqui o "),n("em",[e._v("click para subir")])])])],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"float-left",on:{click:function(t){e.dialogoDocumentosAgregarVisible=!1,e.fileList=[]}}},[e._v("Cancelar")]),e._v(" "),n("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:e.submitUpload}},[e._v("Guardar")])],1)])],1)}),[],!1,null,null,null);t.default=E.exports},bHOZ:function(e,t,n){"use strict";var a=n("4Aq5");n.n(a).a},"i+JD":function(e,t,n){(t=n("JPst")(!1)).push([e.i,"\n.el-select .el-input {\n    width: 180px;\n}\n.el-transfer-panel{\n    width: 35%;\n}\n.input-with-select .el-input-group__prepend {\n    background-color: #fff;\n}\n.pre-formateado {\n    white-space: pre;\n}\n.el-table .cell {\n    word-break: break-word;\n}\n\n\n",""]),e.exports=t},k9pt:function(e,t,n){"use strict";Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function r(e,t,n){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=e-r,o=0;t=void 0===t?500:t;!function e(){o+=20;var i,l=Math.easeInOutQuad(o,r,s,t);i=l,document.documentElement.scrollTop=i,document.body.parentNode.scrollTop=i,document.body.scrollTop=i,o<t?a(e):n&&"function"==typeof n&&n()}()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,15,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&r(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&r(0,800)}}},o=(n("bHOZ"),n("KHd+")),i=Object(o.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),[],!1,null,"68c28e9d",null);t.a=i.exports}}]);