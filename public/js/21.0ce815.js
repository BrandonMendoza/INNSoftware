(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"3T1E":function(e,t,o){(t=o("JPst")(!1)).push([e.i,"\n.color[data-v-9aa5db72] {\n    width: 100%;\n}\n",""]),e.exports=t},"4Aq5":function(e,t,o){var r=o("EyLs");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,a);r.locals&&(e.exports=r.locals)},"7sWw":function(e,t,o){var r=o("VyIk");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,a);r.locals&&(e.exports=r.locals)},EyLs:function(e,t,o){(t=o("JPst")(!1)).push([e.i,"\n.pagination-container[data-v-68c28e9d] {\n  background: #fff;\n  padding: 32px 16px;\n}\n.pagination-container.hidden[data-v-68c28e9d] {\n  display: none;\n}\n",""]),e.exports=t},"HF+U":function(e,t,o){"use strict";o("7sWw");var r="@@wavesContext";function a(e,t){function o(o){var r=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),s=a.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var n=s.getBoundingClientRect(),i=s.querySelector(".waves-ripple");switch(i?i.className="waves-ripple":((i=document.createElement("span")).className="waves-ripple",i.style.height=i.style.width=Math.max(n.width,n.height)+"px",s.appendChild(i)),a.type){case"center":i.style.top=n.height/2-i.offsetHeight/2+"px",i.style.left=n.width/2-i.offsetWidth/2+"px";break;default:i.style.top=(o.pageY-n.top-i.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",i.style.left=(o.pageX-n.left-i.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return i.style.backgroundColor=a.color,i.className="waves-ripple z-active",!1}}return e[r]?e[r].removeHandle=o:e[r]={removeHandle:o},o}var s={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[r].removeHandle,!0),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[r].removeHandle,!1),e[r]=null,delete e[r]}},n=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(n)),s.install=n;t.a=s},K2Na:function(e,t,o){"use strict";var r=o("NThM");o.n(r).a},KUbc:function(e,t,o){"use strict";o.r(t);var r=o("o0o1"),a=o.n(r),s=o("yXPU"),n=o.n(s),i=(o("fJGn"),o("wd/R")),l=o.n(i),c=(o("2F5j"),o("HF+U")),u={data:function(){return{clientes:[],productosSelect:[],activeName:"first",form:{id:0,cantidad:"",fecha_entrega:"",item:"",work_order:"",heat_number:"",proyecto:"",producto:"",producto_local:"",notas:"",precio_pesos:"",precio_dlls:""},rules:{},dialogoAgregar:!1,dialogRef:"myForm",dialogoProductos:!1,loadingCliente:!1}},directives:{waves:c.a},methods:{open:function(){this.activeName="first",this.dialogoAgregar=!0},close:function(){this.$parent.setCurrent(),this.dialogoAgregar=!1},insert:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var o=t.$loading({target:".el-dialog"}),r=t;axios.put("/proyectosProductos/insert",r.form).then((function(e){console.log("Response:"),console.log(e),r.$parent.getList(),r.clearFields(),r.close(),o.close(),r.$message.success("Guardado correctamente.")})).catch((function(e){r.$message.error("Hubo un error."),console.log(e)}))}))},clearFields:function(){this.form.id=0,this.form.cantidad="",this.form.item="",this.form.work_order="",this.form.heat_number="",this.form.notas="",this.form.proyecto="",this.form.producto="",this.form.producto_local="",this.form.fecha_entrega=l()(),this.form.precio_pesos=0,this.form.precio_dlls=0},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.clearFields(),t.close()})).catch((function(e){}))},handleClick:function(e,t){}}},d=(o("K2Na"),o("KHd+")),p=Object(d.a)(u,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top","label-width":"150px"}},[o("el-dialog",{ref:e.dialogRef,attrs:{width:"40%","before-close":e.handleClose,visible:e.dialogoAgregar},on:{"update:visible":function(t){e.dialogoAgregar=t}}},[0==e.form.id?o("span",{attrs:{slot:"title"},slot:"title"},[o("i",{staticClass:"el-icon-plus"}),e._v(" Agregar Orden Abierta")]):e._e(),e._v(" "),0!=e.form.id?o("span",{attrs:{slot:"title"},slot:"title"},[o("i",{staticClass:"el-icon-edit"}),e._v(" Editar Orden Abierta ")]):e._e(),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{hidden:""},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),o("span",{staticStyle:{"margin-right":"5px"}},[o("b",[e._v("Proyecto: ")]),e._v(" "+e._s(e.form.proyecto))]),e._v(" "),o("span",[o("b",[e._v("Producto: ")]),e._v(" "+e._s(e.form.producto)+"/"+e._s(e.form.producto_local))]),e._v(" "),o("br"),e._v(" "),o("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"General",name:"first"}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"Cantidad"}},[o("el-input-number",{attrs:{min:1},model:{value:e.form.cantidad,callback:function(t){e.$set(e.form,"cantidad",t)},expression:"form.cantidad"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"Fecha de Entrega",prop:"fecha_entrega"}},[o("el-date-picker",{attrs:{type:"date"},model:{value:e.form.fecha_entrega,callback:function(t){e.$set(e.form,"fecha_entrega",t)},expression:"form.fecha_entrega"}})],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"Orden de Trabajo"}},[o("el-input",{model:{value:e.form.work_order,callback:function(t){e.$set(e.form,"work_order",t)},expression:"form.work_order"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"Item"}},[o("el-input",{model:{value:e.form.item,callback:function(t){e.$set(e.form,"item",t)},expression:"form.item"}})],1)],1)],1),e._v(" "),o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"Precio (pesos)"}},[o("vue-numeric",{staticClass:"el-input__inner",attrs:{precision:2,currency:"$",separator:","},model:{value:e.form.precio_pesos,callback:function(t){e.$set(e.form,"precio_pesos",t)},expression:"form.precio_pesos"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"Precio (dlls)"}},[o("vue-numeric",{staticClass:"el-input__inner",attrs:{precision:2,currency:"$",separator:","},model:{value:e.form.precio_dlls,callback:function(t){e.$set(e.form,"precio_dlls",t)},expression:"form.precio_dlls"}})],1)],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"Heat Number",hidden:""}},[o("el-input",{model:{value:e.form.heat_number,callback:function(t){e.$set(e.form,"heat_number",t)},expression:"form.heat_number"}})],1)],1),e._v(" "),o("el-tab-pane",{attrs:{label:"Notas",name:"second"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:16,maxRows:16}},model:{value:e.form.notas,callback:function(t){e.$set(e.form,"notas",t)},expression:"form.notas"}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"float-left",on:{click:function(t){e.clearFields(),e.close()}}},[e._v("Cancelar")]),e._v(" "),0==e.form.id?o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.insert("form")}}},[e._v("Agregar")]):e._e(),e._v(" "),0!=e.form.id?o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.insert("form")}}},[e._v("Guardar")]):e._e()],1)],1)],1)}),[],!1,null,"9aa5db72",null).exports,m=o("k9pt");function f(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return g(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,s=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw s}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var h={data:function(){return{orden:0,ordenMax:0,percentage:0,procesoActual:"",procesoPrimero:[],procesoUltimo:[],procesos:[],listQuery:{page:1,limit:5,importance:void 0,title:void 0,type:void 0,sort:"+id"},form:{id:0,numero_parte:"",numero_parte_cliente:"",proyecto_id:0,proceso_actual:0,proceso_nuevo:0},dialogoAgregar:!1,dialogRef:"cambiarProcesoDialog",dialogoDocumentos:!1,dialogoHistorial:!1,historial:[]}},components:{Pagination:m.a},methods:{open:function(){this.getProcesos(),this.dialogoAgregar=!0},close:function(){this.dialogoAgregar=!1},clearFields:function(){this.form.id=0,this.form.documentos=[]},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoAgregar=!1})).catch((function(e){}))},increaseDecrease:function(e){this.orden+=e,this.orden>this.ordenMax+1?this.orden=this.ordenMax+1:this.orden<0&&(this.orden=0),this.calcularPorcentaje()},guardarProceso:function(){var e=this.$loading({target:"#dialogoCambiarProceso > .el-dialog"});if(this.form.proceso_actual==this.form.proceso_nuevo)return this.$message("Nada que guardar."),e.close(),this.close(),!1;var t=this;axios.put("/proyectosProductos/saveProceso",t.form).then((function(o){t.$parent.getList(),e.close(),t.close()})).catch((function(o){t.close(),e.close(),t.$message.error("Hubo un error."),console.log(o)}))},getProcesos:function(){var e=this,t=this.$loading({target:"#dialogoCambiarProceso > .el-dialog"});axios.put("/proyectosProductos/getProcesosByProducto",e.form).then((function(o){e.procesos=o.data.procesos,e.procesoActual=o.data.lastProceso.proyecto_proceso.proceso,e.form.proceso_actual=o.data.lastProceso.proyecto_proceso.id,e.form.proceso_nuevo=o.data.lastProceso.proyecto_proceso.id,e.procesoPrimero=o.data.procesoPrimero,e.procesoUltimo=o.data.procesoUltimo,e.ordenMax=Math.max.apply(Math,e.procesos.map((function(e){return e.orden}))),1==e.procesoActual.es_primero?e.orden=0:1==e.procesoActual.es_ultimo?e.orden=e.ordenMax+1:e.orden=e.procesoActual.orden,e.calcularPorcentaje(),t.close()})).catch((function(o){e.close(),t.close(),e.$message.error("Hubo un error."),console.log(o)}))},calcularPorcentaje:function(){this.percentage=0;if(0==this.orden)return this.percentage=0,this.procesoActual=this.procesoPrimero.proceso,this.form.proceso_nuevo=this.procesoPrimero.id,!1;if(this.orden==this.ordenMax+1)return this.percentage=100,this.procesoActual=this.procesoUltimo.proceso,this.form.proceso_nuevo=this.procesoUltimo.id,!1;var e,t=f(this.procesos);try{for(t.s();!(e=t.n()).done;){var o=e.value;if(0!=parseInt(o.porcentaje)&&(this.percentage+=parseInt(o.porcentaje)),this.orden==o.orden)return this.procesoActual=o.proceso,this.form.proceso_nuevo=o.id,0!=o.porcentaje&&(this.percentage-=parseInt(o.porcentaje)/2),!1}}catch(e){t.e(e)}finally{t.f()}},getHistorial:function(){var e=this;return n()(a.a.mark((function t(){var o,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=e,r=e.$loading({target:"#dialogoHistorial > .el-dialog"}),"/proyectosProductos/getHistorialProcesos",axios.put("/proyectosProductos/getHistorialProcesos",o.form).then((function(e){o.historial=e.data,r.close()})).catch((function(e){r.close(),o.$message.error("Hubo un error."),console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()}}},v=Object(d.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top","label-width":"150px"}},[o("el-dialog",{ref:e.dialogRef,attrs:{width:"40%",id:"dialogoCambiarProceso","before-close":e.handleClose,visible:e.dialogoAgregar},on:{"update:visible":function(t){e.dialogoAgregar=t}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("svg-icon",{attrs:{"icon-class":"process"}}),e._v(" Cambiar Proceso ")],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{hidden:""},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.proyecto_id,expression:"form.proyecto_id"}],attrs:{hidden:""},domProps:{value:e.form.proyecto_id},on:{input:function(t){t.target.composing||e.$set(e.form,"proyecto_id",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.proceso_actual,expression:"form.proceso_actual"}],attrs:{hidden:""},domProps:{value:e.form.proceso_actual},on:{input:function(t){t.target.composing||e.$set(e.form,"proceso_actual",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.proceso_nuevo,expression:"form.proceso_nuevo"}],attrs:{hidden:""},domProps:{value:e.form.proceso_nuevo},on:{input:function(t){t.target.composing||e.$set(e.form,"proceso_nuevo",t.target.value)}}}),e._v(" "),o("el-row",{staticStyle:{"font-size":"12px","margin-bottom":"8px"},attrs:{type:"flex",justify:"space-around"}},[o("el-col",{staticStyle:{"text-align":"right"}},[o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-time"},on:{click:function(t){e.dialogoHistorial=!0,e.getHistorial()}}},[e._v("Historial")])],1)],1),e._v(" "),o("el-row",{staticStyle:{"font-size":"12px"},attrs:{type:"flex",justify:"space-around"}},[o("el-col",[e._v("\n                Núm. de Parte: "),o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.form.numero_parte))])])],1),e._v(" "),o("el-row",{staticStyle:{"font-size":"12px"},attrs:{type:"flex",justify:"space-around"}},[o("el-col",[e._v("\n                Núm. de Parte (cliente): "),o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.form.numero_parte_cliente))])])],1),e._v(" "),o("el-row",{attrs:{type:"flex",justify:"space-around"}},[o("el-col",{attrs:{span:3}}),e._v(" "),o("el-col",{staticClass:"text-center",attrs:{span:8}},[o("h3",[e._v(e._s(e.procesoActual.nombre))])]),e._v(" "),o("el-col",{attrs:{span:3}})],1),e._v(" "),o("el-row",{staticStyle:{"margin-bottom":"20px"}},[o("el-progress",{attrs:{"text-inside":!0,"stroke-width":24,percentage:e.percentage,color:e.procesoActual.color}})],1),e._v(" "),o("el-row",{attrs:{type:"flex",justify:"space-around"}},[o("el-col",{staticStyle:{"text-align":"left"},attrs:{span:6}},[o("el-button",{attrs:{icon:"el-icon-d-arrow-left"},on:{click:function(t){return e.increaseDecrease(-1)}}})],1),e._v(" "),o("el-col",{attrs:{span:6}}),e._v(" "),o("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[o("el-button",{attrs:{icon:"el-icon-d-arrow-right"},on:{click:function(t){return e.increaseDecrease(1)}}})],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",on:{click:function(t){e.dialogoAgregar=!1}}},[e._v("Cerrar")]),e._v(" "),0!=e.form.id?o("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.guardarProceso()}}},[e._v("Guardar")]):e._e()],1)],1),e._v(" "),o("el-dialog",{attrs:{id:"dialogoHistorial",title:"Historial de Procesos",visible:e.dialogoHistorial,width:"50%"},on:{"update:visible":function(t){e.dialogoHistorial=t}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historial,border:"",fit:"","highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index",align:"center",width:"60"}}),e._v(" "),o("el-table-column",{attrs:{label:"Proceso",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{style:"font-weight: bold;background-color:"+t.row.proyecto_proceso.proceso.color+";color:"+t.row.proyecto_proceso.proceso.texto_color+";"},[o("svg-icon",{attrs:{"icon-class":"process"}}),e._v("\n                        "+e._s(t.row.proyecto_proceso.proceso.nombre)+"\n                    ")],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"iniciado_el",label:"Fecha",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(null==t.row.iniciado_el?"—":t.row.iniciado_el))])]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"user.name",label:"Usuario",align:"center","show-overflow-tooltip":""}})],1),e._v(" "),o("div",{staticClass:"filter-container",attrs:{hidden:""}},[o("pagination",{directives:[{name:"show",rawName:"v-show",value:e.historial.length>0,expression:"historial.length>0"}],attrs:{total:e.historial.length,page:e.listQuery.page,limit:e.listQuery.limit,layout:"total, prev, pager, next"},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getHistorial}})],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",on:{click:function(t){e.dialogoHistorial=!1}}},[e._v("Cerrar")])],1)],1)],1)}),[],!1,null,null,null).exports,b=o("YsXA"),y=o.n(b),w=(o("rdXg"),{data:function(){return{form:{id:0,numero_parte:"",codigo_barras_cliente:""},dialogoAgregar:!1,dialogRef:"codigoBarrasDialog",activeName:"first",loadingInstance:""}},directives:{waves:c.a},components:{},methods:{open:function(){this.activeName="first",this.dialogoAgregar=!0;var e=this;this.$nextTick((function(){e.loadingInstance=this.$loading({target:"#dialogoCodigoBarras > .el-dialog"}),y()("#barcodeLocal",this.form.numero_parte),""==this.form.codigo_barras_cliente?y()("#barcodeCliente",this.form.numero_parte):y()("#barcodeCliente",this.form.codigo_barras_cliente),e.loadingInstance.close()}))},close:function(){this.dialogoAgregar=!1},clearFields:function(){this.form.id=0},print:function(e){printJS(e,"html")},handleBlur:function(){this.loadingInstance=this.$loading({target:"#dialogoCodigoBarras > .el-dialog"}),""==this.form.codigo_barras_cliente&&(this.form.codigo_barras_cliente=this.form.codigo_barras_cliente),this.guardar(),y()("#barcodeCliente",this.form.codigo_barras_cliente),this.loadingInstance.close()},handleClick:function(e,t){},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoAgregar=!1})).catch((function(e){}))},guardar:function(){var e=this;axios.put("/proyectosProductos/saveCodigoBarras",e.form).then((function(t){e.$message.success("Guardado correctamente.")})).catch((function(t){e.close(),e.$message.error("Hubo un error."),console.log(t)}))},download:function(e){var t=this;return n()(a.a.mark((function o(){var r,s,n;return a.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=document.getElementById(e),s=document.createElement("a"),n=r.getAttribute("src"),s.setAttribute("href",n),s.setAttribute("download",t.form.numero_parte+".png"),s.click();case 6:case"end":return o.stop()}}),o)})))()}},mounted:function(){}}),j=Object(d.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top","label-width":"150px"}},[o("el-dialog",{ref:e.dialogRef,attrs:{width:"30%",id:"dialogoCodigoBarras","before-close":e.handleClose,visible:e.dialogoAgregar},on:{"update:visible":function(t){e.dialogoAgregar=t}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("svg-icon",{attrs:{"icon-class":"process"}}),e._v(" Configuración de Codigo de Barras ")],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.id,expression:"form.id"}],attrs:{hidden:""},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value)}}}),e._v(" "),o("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"Local",name:"first"}},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"small",icon:"el-icon-printer"},on:{click:function(t){return e.print("barcodeLocal")}}},[e._v("Imprimir")])],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:function(t){return e.download("barcodeLocal")}}},[e._v("Descargar")])],1),e._v(" "),o("el-col",{attrs:{span:18}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.form.numero_parte,expression:"form.numero_parte"}],attrs:{hidden:""},domProps:{value:e.form.numero_parte},on:{input:function(t){t.target.composing||e.$set(e.form,"numero_parte",t.target.value)}}}),o("br")])],1),e._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"center"}},[o("div",{staticStyle:{width:"min-content",margin:"0 auto"}},[o("img",{staticClass:"img-thumbnail",staticStyle:{margin:"0 auto"},attrs:{id:"barcodeLocal"}})])])],1),e._v(" "),o("el-tab-pane",{attrs:{label:"Cliente",name:"second"}},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"small",icon:"el-icon-printer"},on:{click:function(t){return e.print("barcodeCliente")}}},[e._v("Imprimir")])],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",size:"small",icon:"el-icon-download"},on:{click:function(t){return e.download("barcodeCliente")}}},[e._v("Descargar")])],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{size:"small"},on:{blur:function(t){return e.handleBlur()}},model:{value:e.form.codigo_barras_cliente,callback:function(t){e.$set(e.form,"codigo_barras_cliente",t)},expression:"form.codigo_barras_cliente"}}),o("br")],1)],1),e._v(" "),o("div",{staticStyle:{display:"flex","justify-content":"center"}},[o("div",{staticStyle:{width:"min-content",margin:"0 auto"}},[o("img",{staticClass:"img-thumbnail",staticStyle:{margin:"0 auto"},attrs:{id:"barcodeCliente"}})])])],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"float-left",on:{click:function(t){e.dialogoAgregar=!1}}},[e._v("Cerrar")])],1)],1)],1)}),[],!1,null,null,null).exports,k={data:function(){return{dialogoAgregar:!1,dialogRef:"menuCodigoBarrasDialog",loadingInstance:"",data:{}}},directives:{waves:c.a},components:{},methods:{open:function(){this.dialogoAgregar=!0,this.$parent.setCurrent(this.data)},close:function(){this.dialogoAgregar=!1},cambiarProceso:function(){this.$parent.cambiarProceso(this.data)},codigoBarras:function(){this.$parent.codigoBarras(this.data)},editar:function(){this.$parent.loadFieldsUpdate(this.data)},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoAgregar=!1})).catch((function(e){}))}},mounted:function(){}},C=Object(d.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{ref:e.dialogRef,attrs:{width:"30%",id:"dialogoMenuCodigoBarras","before-close":e.handleClose,visible:e.dialogoAgregar},on:{"update:visible":function(t){e.dialogoAgregar=t}}},[o("span",{attrs:{slot:"title"},slot:"title"},[o("svg-icon",{attrs:{"icon-class":"process"}}),e._v(" Menu del Producto: "+e._s(e.data.numero_parte)+" ")],1),e._v(" "),o("el-row",[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(t){e.close(),e.editar()}}},[e._v("Editar")]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",title:"Cambiar proceso"},on:{click:function(t){e.close(),e.cambiarProceso()}}},[o("svg-icon",{attrs:{"icon-class":"process"}}),e._v(" Cambiar Proceso\n            ")],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-tickets",title:"Cambiar proceso"},on:{click:function(t){e.close(),e.codigoBarras()}}},[e._v("\n                        Codigo de Barras\n            ")])],1),e._v(" "),o("br"),e._v(" "),e.data.proyecto?o("span",{staticStyle:{"margin-right":"5px"}},[o("b",[e._v("Proyecto: ")]),e._v(" "+e._s(e.data.proyecto.numero_parte)+"/"+e._s(e.data.proyecto.numero_parte_cliente))]):e._e(),e._v(" "),o("br"),e._v(" "),e.data.producto?o("span",[o("b",[e._v("Producto: ")]),e._v(" "+e._s(e.data.producto.numero_parte)+"/"+e._s(e.data.producto.numero_parte_cliente))]):e._e(),e._v(" "),o("br"),e._v(" "),o("br"),e._v(" "),o("span",[o("b",[e._v("Proceso: ")]),e._v(" "),e.data.Proceso?o("el-tag",{style:"font-weight: bold;background-color:"+e.data.Proceso.proyecto_proceso.proceso.color+";color:"+e.data.Proceso.proyecto_proceso.proceso.texto_color+";"},[o("svg-icon",{style:"background-color:"+e.data.Proceso.proyecto_proceso.proceso.color+";color:"+e.data.Proceso.proyecto_proceso.proceso.texto_color+";",attrs:{"icon-class":"process"}}),e._v("\n                "+e._s(e.data.Proceso.proyecto_proceso.proceso.nombre)+"\n        ")],1):e._e()],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"float-left",on:{click:function(t){e.dialogoAgregar=!1}}},[e._v("Cerrar")])],1)],1)}),[],!1,null,null,null).exports;o("7tbW");function x(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return n=e.done,e},e:function(e){i=!0,s=e},f:function(){try{n||null==o.return||o.return()}finally{if(i)throw s}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var S={created:function(){this.$barcodeScanner.init(this.onBarcodeScanned)},destroyed:function(){this.$barcodeScanner.destroy()},data:function(){return{listUrl:"/proyectosProductos",deleteUrl:"/proyectosProductos/delete",loading:!0,list:[],showProyecto:!1,showProducto:!1,filtrarTerminados:!1,procesosFiltroList:[],clientesFiltroList:[],presearch:"",search:"",page:1,pageSize:10,total:0,currentRow:null,selectSearch:"numero_parte_cliente",barcodeValue:"test"}},components:{formDialog:p,cambiarProcesoDialog:v,codigoBarrasDialog:j,menuCodigoBarrasDialog:C,Pagination:m.a},directives:{waves:c.a},computed:{searching:function(){var e=this;if(console.log("LISTA SEARCHING: "),console.log(this.list),this.loading=!0,!this.search)return this.loading=!1,this.total=this.list.length,this.list;this.page=1;var t=[];return t="nombre_cliente"==this.selectSearch?this.list.filter((function(t){return!!t.proyecto.cliente.nombre_cliente.toLowerCase().includes(e.search.toLowerCase())})):"proyecto"==this.selectSearch?this.list.filter((function(t){return!!t.proyecto.numero_parte.toLowerCase().includes(e.search.toLowerCase())})):"orden_compra"==this.selectSearch?this.list.filter((function(t){return!!t.proyecto.orden_compra.toLowerCase().includes(e.search.toLowerCase())})):"numero_parte_cliente"==this.selectSearch?this.list.filter((function(t){return!!t.producto.numero_parte_cliente.toLowerCase().includes(e.search.toLowerCase())})):"numero_parte_producto"==this.selectSearch?this.list.filter((function(t){return!!t.producto.numero_parte.toLowerCase().includes(e.search.toLowerCase())})):"codigo_barras"==this.selectSearch?this.list.filter((function(t){return!!t.numero_parte.toLowerCase().includes(e.search.toLowerCase())})):"codigo_barras_cliente"==this.selectSearch?this.list.filter((function(t){return!!t.codigo_barras_cliente.toLowerCase().includes(e.search.toLowerCase())})):this.list.filter((function(t){return t[e.selectSearch].toLowerCase().includes(e.search.toLowerCase())})),this.loading=!1,t},displayData:function(){return this.total=this.searching.length,this.searching.slice(this.pageSize*this.page-this.pageSize,this.pageSize*this.page)},disableEditar:function(){return null==this.currentRow}},methods:{barcodeSearch:function(e){console.log("DATA RETURNED"),console.log(this.list);var t=this.list.filter((function(t){return t.numero_parte.toLowerCase().includes(e.toLowerCase())}));console.log(t),0==t.length?this.$message({type:"info",message:"No existe orden abierta"}):this.menuCodigoBarras(t[0])},onBarcodeScanned:function(e){e.length>5&&this.barcodeSearch(e),console.log(e)},resetBarcode:function(){this.$barcodeScanner.getPreviousCode()},setCurrent:function(e){this.$refs.tableList.setCurrentRow(e)},handleCurrentChangeTable:function(e){this.currentRow=e},calculateWeeks:function(e){return l()(e).week()},handleCurrentChangePagination:function(e){this.page=e},handlePresearchChange:function(){this.presearch||(this.search="")},handleSearch:function(){this.search=this.presearch},getList:function(){var e=this;return n()(a.a.mark((function t(){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(o=e).loading=!0,axios.get(o.listUrl,o.filtrarTerminados).then((function(e){o.list=e.data,o.cargarProcesosFiltro(),o.cargarClientesFiltro(),o.loading=!1})).catch((function(e){o.$message.error("Hubo un error."),console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},cargarProcesosFiltro:function(){var e,t={},o=x(this.list);try{for(o.s();!(e=o.n()).done;){var r=e.value;t={value:r.Proceso.proyecto_proceso.proceso.nombre,text:r.Proceso.proyecto_proceso.proceso.nombre},this.procesosFiltroList.push(t)}}catch(e){o.e(e)}finally{o.f()}var a=_.uniqBy(this.procesosFiltroList,"value");this.procesosFiltroList=a},cargarClientesFiltro:function(){var e,t={},o=x(this.list);try{for(o.s();!(e=o.n()).done;){var r=e.value;t={value:r.proyecto.cliente.nombre_cliente,text:r.proyecto.cliente.nombre_cliente},this.clientesFiltroList.push(t)}}catch(e){o.e(e)}finally{o.f()}var a=_.uniqBy(this.clientesFiltroList,"value");this.clientesFiltroList=a},loadFieldsUpdate:function(e){this.$refs.myForm.form.id=e.id,this.$refs.myForm.form.cantidad=e.cantidad,this.$refs.myForm.form.item=e.item,this.$refs.myForm.form.work_order=e.work_order,this.$refs.myForm.form.heat_number=e.heat_number,this.$refs.myForm.form.fecha_entrega=e.fecha_entrega,this.$refs.myForm.form.proyecto=e.proyecto.numero_parte,this.$refs.myForm.form.producto=e.producto.numero_parte_cliente,this.$refs.myForm.form.producto_local=e.producto.numero_parte,this.$refs.myForm.form.notas=e.notas,this.$refs.myForm.form.precio_dlls=e.precio_dlls,this.$refs.myForm.form.precio_pesos=e.precio_pesos,this.$refs.myForm.open()},menuCodigoBarras:function(e){this.$refs.menuCodigoBarrasDialog.data=e,this.$refs.menuCodigoBarrasDialog.open()},cambiarProceso:function(e){this.$refs.cambiarProcesoDialog.form.id=e.id,this.$refs.cambiarProcesoDialog.form.numero_parte=e.producto.numero_parte,this.$refs.cambiarProcesoDialog.form.numero_parte_cliente=e.producto.numero_parte_cliente,this.$refs.cambiarProcesoDialog.form.proyecto_id=e.proyecto_id,this.$refs.cambiarProcesoDialog.open()},codigoBarras:function(e){this.$refs.codigoBarrasDialog.form.id=e.id,this.$refs.codigoBarrasDialog.form.numero_parte=e.numero_parte,this.$refs.codigoBarrasDialog.form.codigo_barras_cliente=e.codigo_barras_cliente,this.$refs.codigoBarrasDialog.open()},deleteRow:function(e){var t=this;this.$confirm("Esto eliminara permanentemente la Orden Abierta. Quieres continuar?","Advertencia",{confirmButtonText:"Eliminar",cancelButtonText:"Cancelar",type:"warning"}).then((function(){var o=t;o.loading=!0,axios.post(o.deleteUrl,{id:e}).then((function(e){o.getList(),o.$message.success("Eliminado correctamente."),o.loading=!1})).catch((function(e){o.$message.error("Hubo un error."),console.log(e),o.loading=!1}))})).catch((function(){t.$message({type:"info",message:"Eliminacion cancelada"})}))},compareDates:function(e){e=l()(e);var t=l()();return t>=e?"danger":e.diff(t,"days")<6&&e.diff(t,"days")>=0?"warning":"success"},filterProcesoHandler:function(e,t,o){o.property;return t.Proceso.proyecto_proceso.proceso.nombre===e},filterClienteHandler:function(e,t,o){o.property;return t.proyecto.cliente.nombre_cliente===e}},mounted:function(){this.getList()}},$=(o("d933"),Object(d.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("div",{staticClass:"filter-container"},[o("div",{staticClass:"filter-item"},[o("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"buscar",clearable:""},on:{change:function(t){return e.handlePresearchChange()}},model:{value:e.presearch,callback:function(t){e.presearch=t},expression:"presearch"}},[o("el-select",{attrs:{slot:"prepend",size:"small",placeholder:"Select"},slot:"prepend",model:{value:e.selectSearch,callback:function(t){e.selectSearch=t},expression:"selectSearch"}},[o("el-option",{attrs:{label:"Núm. de Parte (Cliente)",value:"numero_parte_cliente"}}),e._v(" "),o("el-option",{attrs:{label:"Núm. de Parte (Producto)",value:"numero_parte_producto"}}),e._v(" "),o("el-option",{attrs:{label:"Proyecto",value:"proyecto"}}),e._v(" "),o("el-option",{attrs:{label:"Cliente",value:"nombre_cliente"}}),e._v(" "),o("el-option",{attrs:{label:"Codigo de Barras (Local)",value:"codigo_barras"}}),e._v(" "),o("el-option",{attrs:{label:"Codigo de Barras (Cliente)",value:"codigo_barras_cliente"}})],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{slot:"append",size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-edit",disabled:e.disableEditar},on:{click:function(t){return e.loadFieldsUpdate(e.currentRow)}}},[e._v("Editar")]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",title:"Cambiar proceso",disabled:e.disableEditar},on:{click:function(t){return e.cambiarProceso(e.currentRow)}}},[o("svg-icon",{attrs:{"icon-class":"process"}}),e._v(" Cambiar Proceso\n        ")],1),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-tickets",title:"Cambiar proceso",disabled:e.disableEditar},on:{click:function(t){return e.codigoBarras(e.currentRow)}}},[e._v("\n            Codigo de Barras\n        ")]),e._v(" "),o("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"danger",size:"small",icon:"el-icon-delete",disabled:e.disableEditar},on:{click:function(t){return e.deleteRow(e.currentRow.id,e.currentRow.numero_parte,e.currentRow.numero_parte_cliente)}}},[e._v("Eliminar")]),e._v(" "),o("router-link",{staticClass:"filter-item",attrs:{to:"/ordenesAbiertas/UploadExcel"}},[o("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"}},[e._v("\n                Importar    \n            ")])],1),e._v(" "),o("el-popover",{staticClass:"filter-item",attrs:{placement:"left-start",size:"small",width:"400",trigger:"click"}},[o("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.showProyecto,callback:function(t){e.showProyecto=t},expression:"showProyecto"}},[e._v("Ver Núm. de Parte Proyecto (local)")]),e._v(" "),o("el-checkbox",{staticClass:"filter-item",staticStyle:{"margin-left":"15px"},model:{value:e.showProducto,callback:function(t){e.showProducto=t},expression:"showProducto"}},[e._v("Ver Núm. de Parte Producto (local)")]),e._v(" "),o("el-button",{attrs:{slot:"reference",type:"primary",size:"small",icon:"el-icon-setting"},slot:"reference"},[e._v("Columnas")])],1)],1),e._v(" "),o("el-row",[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableList",staticStyle:{width:"100%","word-wrap":"break-word"},attrs:{data:e.displayData,"highlight-current-row":"",sortable:"",border:"","tooltip-effect":"light",fit:""},on:{"current-change":e.handleCurrentChangeTable}},[o("af-table-column",{attrs:{type:"index",align:"center",sortable:"",fixed:""}}),e._v(" "),o("af-table-column",{attrs:{label:"Proceso",prop:"Proceso.proyecto_proceso.proceso.nombre",filters:e.procesosFiltroList,"filter-method":e.filterProcesoHandler,sortable:"",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{style:"font-weight: bold;background-color:"+t.row.Proceso.proyecto_proceso.proceso.color+";color:"+t.row.Proceso.proyecto_proceso.proceso.texto_color+";"},[o("svg-icon",{style:"background-color:"+t.row.Proceso.proyecto_proceso.proceso.color+";color:"+t.row.Proceso.proyecto_proceso.proceso.texto_color+";",attrs:{"icon-class":"process"}}),e._v("\n                        "+e._s(t.row.Proceso.proyecto_proceso.proceso.nombre)+"\n                    ")],1)]}}])}),e._v(" "),e.showProducto?o("af-table-column",{attrs:{prop:"producto.numero_parte",label:"Núm. de Parte (local)","show-overflow-tooltip":"",width:"110",fixed:""}}):e._e(),e._v(" "),o("af-table-column",{attrs:{prop:"producto.numero_parte_cliente",label:"Núm. de Parte (cliente)","show-overflow-tooltip":"",width:"110",fixed:""}}),e._v(" "),e.showProyecto?o("af-table-column",{attrs:{prop:"proyecto.numero_parte",label:"Núm. de Parte del Proyecto (local)","show-overflow-tooltip":"",width:"110"}}):e._e(),e._v(" "),o("af-table-column",{attrs:{prop:"proyecto.numero_parte_cliente",label:"Nombre del Proyecto","show-overflow-tooltip":"",width:"110"}}),e._v(" "),o("af-table-column",{attrs:{prop:"proyecto.cliente.nombre_cliente",filters:e.clientesFiltroList,"filter-method":e.filterClienteHandler,label:"Cliente"}}),e._v(" "),o("af-table-column",{attrs:{prop:"cantidad",label:"Cantidad","show-overflow-tooltip":"",width:"85",align:"center"}}),e._v(" "),o("af-table-column",{attrs:{prop:"work_order",label:"Orden de Trabajo",align:"center",width:"100","show-overflow-tooltip":""}}),e._v(" "),o("af-table-column",{attrs:{prop:"item",label:"Item",align:"center",width:"80","show-overflow-tooltip":""}}),e._v(" "),o("af-table-column",{attrs:{prop:"proyecto.orden_compra",label:"Orden de Compra",width:"100","show-overflow-tooltip":""}}),e._v(" "),o("af-table-column",{attrs:{prop:"fecha_entrega",label:"Fecha de Entrega",width:"110",sortable:"","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{attrs:{type:e.compareDates(t.row.fecha_entrega)}},[e._v("\n                        "+e._s(e._f("moment")(t.row.fecha_entrega,"YYYY-MMM-DD"))+"\n                    ")])]}}])}),e._v(" "),o("el-table-column",{attrs:{align:"center",width:"84",sortable:"",label:"Semana de Entrega"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{attrs:{type:e.compareDates(t.row.fecha_entrega)}},[e._v("\n                        "+e._s(e.calculateWeeks(t.row.fecha_entrega))+"\n                    ")])]}}])}),e._v(" "),o("af-table-column",{attrs:{label:"Peso (kgs)",align:"center",width:"170","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("vue-numeric",{attrs:{precision:2,separator:",","read-only":!0},model:{value:t.row.producto.peso_kg,callback:function(o){e.$set(t.row.producto,"peso_kg",o)},expression:"scope.row.producto.peso_kg"}}),e._v(" Kgs\n                ")]}}])}),e._v(" "),o("af-table-column",{attrs:{label:"Peso (lbs)",align:"center",width:"170","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("vue-numeric",{attrs:{precision:2,separator:",","read-only":!0},model:{value:t.row.producto.peso_lbs,callback:function(o){e.$set(t.row.producto,"peso_lbs",o)},expression:"scope.row.producto.peso_lbs"}}),e._v(" lbs\n                ")]}}])}),e._v(" "),o("af-table-column",{attrs:{label:"Precio (Pesos)",align:"center",width:"170","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.precio_pesos?o("vue-numeric",{attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:t.row.precio_pesos,callback:function(o){e.$set(t.row,"precio_pesos",o)},expression:"scope.row.precio_pesos"}}):o("span",[e._v("$ 0.00 ")])]}}])}),e._v(" "),o("af-table-column",{attrs:{label:"Precio (Dlls)",align:"center",width:"170","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.precio_dlls?o("vue-numeric",{attrs:{precision:2,currency:"$",separator:",","read-only":!0},model:{value:t.row.precio_dlls,callback:function(o){e.$set(t.row,"precio_dlls",o)},expression:"scope.row.precio_dlls"}}):o("span",[e._v("$ 0.00 ")])]}}])}),e._v(" "),o("af-table-column",{attrs:{label:"Notas"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticClass:"pre-formateado"},[e._v(e._s(t.row.notas))])]}}])})],1)],1),e._v(" "),o("el-row",{attrs:{type:"flex",justify:"end"}},[o("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChangePagination}})],1),e._v(" "),o("formDialog",{ref:"myForm"}),e._v(" "),o("cambiarProcesoDialog",{ref:"cambiarProcesoDialog"}),e._v(" "),o("codigoBarrasDialog",{ref:"codigoBarrasDialog"}),e._v(" "),o("menuCodigoBarrasDialog",{ref:"menuCodigoBarrasDialog"})],1)}),[],!1,null,null,null));t.default=$.exports},NThM:function(e,t,o){var r=o("3T1E");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,a);r.locals&&(e.exports=r.locals)},RnhZ:function(e,t,o){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(e){var t=s(e);return o(t)}function s(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="RnhZ"},VyIk:function(e,t,o){(t=o("JPst")(!1)).push([e.i,".waves-ripple {\n    position: absolute;\n    border-radius: 100%;\n    background-color: rgba(0, 0, 0, 0.15);\n    background-clip: padding-box;\n    pointer-events: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    -webkit-transform: scale(0);\n    transform: scale(0);\n    opacity: 1;\n}\n\n.waves-ripple.z-active {\n    opacity: 0;\n    -webkit-transform: scale(2);\n    transform: scale(2);\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\n}",""]),e.exports=t},bHOZ:function(e,t,o){"use strict";var r=o("4Aq5");o.n(r).a},d933:function(e,t,o){"use strict";var r=o("g5lf");o.n(r).a},fJGn:function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return c}));var r={props:{value:{type:Boolean,default:!1}},computed:{comment_disabled:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},a=o("KHd+"),s=Object(a.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dropdown",{attrs:{"show-timeout":100,trigger:"click"}},[o("el-button",{attrs:{plain:""}},[e._v("\n    "+e._s(e.comment_disabled?"Comment closed":"Comment opened")+"\n    "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{staticClass:"no-padding",attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("el-radio-group",{staticStyle:{padding:"10px"},model:{value:e.comment_disabled,callback:function(t){e.comment_disabled=t},expression:"comment_disabled"}},[o("el-radio",{attrs:{label:!0}},[e._v("\n          Close comment\n        ")]),e._v(" "),o("el-radio",{attrs:{label:!1}},[e._v("\n          Open comment\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,n={props:{value:{required:!0,default:function(){return[]},type:Array}},data:function(){return{platformsOptions:[{key:"a-platform",name:"a-platform"},{key:"b-platform",name:"b-platform"},{key:"c-platform",name:"c-platform"}]}},computed:{platforms:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},i=Object(a.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dropdown",{attrs:{"hide-on-click":!1,"show-timeout":100,trigger:"click"}},[o("el-button",{attrs:{plain:""}},[e._v("\n    Platform ("+e._s(e.platforms.length)+")\n    "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{staticClass:"no-border",attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-checkbox-group",{staticStyle:{padding:"5px 15px"},model:{value:e.platforms,callback:function(t){e.platforms=t},expression:"platforms"}},e._l(e.platformsOptions,(function(t){return o("el-checkbox",{key:t.key,attrs:{label:t.key}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1)],1)],1)}),[],!1,null,null,null).exports,l={props:{value:{type:String,default:""}},computed:{source_uri:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},c=Object(a.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dropdown",{attrs:{"show-timeout":100,trigger:"click"}},[o("el-button",{attrs:{plain:""}},[e._v("\n    External URL\n    "),o("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{staticClass:"no-padding no-border",staticStyle:{width:"400px"},attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{"label-width":"0px",prop:"source_uri"}},[o("el-input",{attrs:{placeholder:"Enter the content"},model:{value:e.source_uri,callback:function(t){e.source_uri=t},expression:"source_uri"}},[o("template",{slot:"prepend"},[e._v("\n          Fill in the URL\n        ")])],2)],1)],1)],1)}),[],!1,null,null,null).exports},g5lf:function(e,t,o){var r=o("k5G7");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,a);r.locals&&(e.exports=r.locals)},k5G7:function(e,t,o){(t=o("JPst")(!1)).push([e.i,"\n.el-select .el-input {\n    width: 180px;\n}\n.input-with-select .el-input-group__prepend {\n    background-color: #fff;\n}\n.pre-formateado {\n    white-space: pre;\n}\n.el-table .cell {\n    word-break: break-word;\n}\n\n",""]),e.exports=t},k9pt:function(e,t,o){"use strict";Math.easeInOutQuad=function(e,t,o,r){return(e/=r/2)<1?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t};var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function a(e,t,o){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,s=e-a,n=0;t=void 0===t?500:t;!function e(){n+=20;var i,l=Math.easeInOutQuad(n,a,s,t);i=l,document.documentElement.scrollTop=i,document.body.parentNode.scrollTop=i,document.body.scrollTop=i,n<t?r(e):o&&"function"==typeof o&&o()}()}var s={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,15,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&a(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&a(0,800)}}},n=(o("bHOZ"),o("KHd+")),i=Object(n.a)(s,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[o("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),[],!1,null,"68c28e9d",null);t.a=i.exports}}]);