(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"5DKm":function(e,t,a){var r=a("rGqK");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,o);r.locals&&(e.exports=r.locals)},BPL7:function(e,t,a){"use strict";var r=a("5DKm");a.n(r).a},LjxU:function(e,t,a){"use strict";a.r(t);var r=a("o0o1"),o=a.n(r),n=a("yXPU"),i=a.n(n),l=a("lSNA"),s=a.n(l),c=a("wd/R"),u=a.n(c),d=(a("2F5j"),a("HF+U")),p=a("GczY"),m=a("gmK0"),f=a("OuqF"),v=a("+Awk"),g=a("29dw"),_=new g.a("contratoEmpleado"),b={data:function(){return{activeName:"first",loading:!0,currentEmpleado:{id:0},currentAltaEmpleado:{id:0},currentContrato:{id:0,sueldo:0,bono:0,inicio_contrato:"",termino_contrato:"",firmado:0,duracion:"",empleado_id:0,contrato_actual:1,ultimo_contrato:0},empleado_vacaciones:{id:0,tiempo_anos:0,dias_vacaciones:0},tiempo_contrato_select:[{id:1,nombre:"1 Meses",meses:1},{id:3,nombre:"3 Meses",meses:3},{id:-1,nombre:"Tiempo indefinido",meses:-1}],rules:{inicio_contrato:[{required:!0,message:"Selecciona una fecha de baja",trigger:"blur"}],sueldo:[{validator:function(e,t,a){if(!t)return a(new Error("Ingresa un sueldo valido"));setTimeout((function(){Number.isInteger(t)?t<=0?a(new Error("Sueldo debe de ser mayor a $ 0")):a():a(new Error("Ingresa un sueldo valido"))}),1e3)},trigger:"blur"}],bono:[{required:!0,message:"Ingresa un bono",trigger:"change"}],duracion:[{required:!0,message:"Selecciona una duración",trigger:"change"}]},query:{page:1,limit:15,keyword:"",role:""},contratos:[],dialogoAlta:!1,dialogTitle:"",dialogRef:"EmpleadosAltaDialog"}},computed:{},directives:{waves:d.a,permission:p.a,role:m.a},methods:{checkPermission:f.a,submitAltaEmpleado:function(){var e=this;return i()(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$loading({target:"#dialogoAlta > .el-dialog"}),e.currentContrato.empleado_id=e.currentEmpleado.id,e.$refs.EmpleadosAltaForm.validate((function(t){if(!t)return console.log(" no es valid"),a.close(),!1;_.storeAlta(e.currentContrato.empleado_id,{currentContrato:e.currentContrato}).then((function(t){console.log("RESPONSE: "),console.log(t),e.$parent.getList(),e.$message({message:"Contrato agregado correctamente.",type:"success",duration:5e3}),e.dialogoAlta=!1,a.close()})).catch((function(e){console.log(e)}))}));case 3:case"end":return t.stop()}}),t)})))()},formatPrice:function(e){return(e/1).toFixed(2).replace(",",".").toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatDecimales:function(e){return(e/1).toFixed(6).replace(",",".").toString()},validarFecha:function(){var e=u()(this.currentBajaEmpleado.fecha_inicial_labores),t=u()(this.currentBajaEmpleado.fecha_baja);(e.isValid()||t.isValid())&&e>t&&(this.$message({message:"La fecha de inicio de labores no puede ser mayor a la fecha de baja.",type:"warning",duration:5e3}),this.currentBajaEmpleado.fecha_inicial_labores=u()(this.currentEmpleado.fecha_entrada),this.currentBajaEmpleado.fecha_baja=u()())},open:function(){this.dialogoAlta=!0,console.log("PARENT CURRENT:"),console.log(this.$parent.current),this.currentEmpleado=this.$parent.current,this.dialogTitle="Dar de Alta de Nuevo: ("+this.currentEmpleado.numero_empleado+") "+this.currentEmpleado.nombre+" "+this.currentEmpleado.apellidos},close:function(){this.dialogoAlta=!1},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.clearFields(),t.close()})).catch((function(e){}))},changeFinContrato:function(){if(""==this.currentContrato.inicio_contrato||0==this.currentContrato.duracion||null==this.currentContrato.duracion||-1==this.currentContrato.duracion)return this.currentContrato.termino_contrato="","——";var e=new Date(this.currentContrato.inicio_contrato),t=new Date(e.setMonth(e.getMonth()+this.currentContrato.duracion));this.currentContrato.termino_contrato=t}}},h=(a("BPL7"),a("KHd+")),y=Object(h.a)(b,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"EmpleadosAltaForm",attrs:{model:e.currentContrato,"label-position":"top","label-width":"150px",rules:e.rules}},[a("el-dialog",{ref:e.dialogRef,attrs:{id:"dialogoAlta",title:e.dialogTitle,width:"40%",visible:e.dialogoAlta},on:{"update:visible":function(t){e.dialogoAlta=t}}},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Numero de Empleado"}},[a("el-tag",{attrs:{type:"info"}},[e._v(" "+e._s(e.currentEmpleado.numero_empleado))])],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Empleado"}},[a("el-tag",{attrs:{type:"info"}},[e._v(" "+e._s(e.currentEmpleado.nombre+" "+e.currentEmpleado.apellidos))])],1)],1)],1),e._v(" "),a("el-tabs",{attrs:{stretch:!0},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Contrato Nuevo",name:"first"}},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Inicio del Contrato",prop:"inicio_contrato"}},[a("el-date-picker",{attrs:{format:"yyyy-MMM-dd",type:"date"},on:{change:function(t){return e.changeFinContrato()}},model:{value:e.currentContrato.inicio_contrato,callback:function(t){e.$set(e.currentContrato,"inicio_contrato",t)},expression:"currentContrato.inicio_contrato"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Duración del Contrato",prop:"duracion"}},[a("el-select",{attrs:{"value-key":"id"},on:{change:function(t){return e.changeFinContrato()}},model:{value:e.currentContrato.duracion,callback:function(t){e.$set(e.currentContrato,"duracion",t)},expression:"currentContrato.duracion"}},e._l(e.tiempo_contrato_select,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Final del Contrato",prop:"termino_contrato"}},[a("el-date-picker",{attrs:{format:"yyyy-MMM-dd",readonly:!0,type:"date"},model:{value:e.currentContrato.termino_contrato,callback:function(t){e.$set(e.currentContrato,"termino_contrato",t)},expression:"currentContrato.termino_contrato"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Sueldo",prop:"sueldo"}},[a("vue-numeric",{staticClass:"el-input__inner",attrs:{precision:2,currency:"$",separator:","},model:{value:e.currentContrato.sueldo,callback:function(t){e.$set(e.currentContrato,"sueldo",t)},expression:"currentContrato.sueldo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Bono",prop:"bono"}},[a("vue-numeric",{staticClass:"el-input__inner",attrs:{precision:2,currency:"$",separator:","},model:{value:e.currentContrato.bono,callback:function(t){e.$set(e.currentContrato,"bono",t)},expression:"currentContrato.bono"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}}),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","active-text":"Firmado"},model:{value:e.currentContrato.firmado,callback:function(t){e.$set(e.currentContrato,"firmado",t)},expression:"currentContrato.firmado"}})],1),e._v(" "),a("el-col")],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"float-left",on:{click:function(t){e.dialogoAlta=!1}}},[e._v("Cerrar")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.submitAltaEmpleado()}}},[e._v("Dar de Alta")])],1)],1)],1)}),[],!1,null,"3f57f97d",null).exports,w=a("AAa2"),E=a("LyCN"),k=a("k9pt"),C=(a("7tbW"),a("lwsE")),x=a.n(C),N=a("W8MJ"),D=a.n(N),S=a("7W2i"),R=a.n(S),q=a("a1gu"),j=a.n(q),P=a("Nsbk"),$=a.n(P),F=a("rywy");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=$()(e);if(t){var o=$()(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return j()(this,a)}}var T=function(e){R()(a,e);var t=A(a);function a(){return x()(this,a),t.call(this,"empleado")}return D()(a,[{key:"updateDeleted",value:function(e,t){return console.log("UPODATE DEKETED"),Object(F.a)({url:"/"+this.uri+"/"+e+"/updateDeleted",method:"put",data:t})}}]),a}(v.a);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=$()(e);if(t){var o=$()(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return j()(this,a)}}var B=new(function(e){R()(a,e);var t=I(a);function a(){return x()(this,a),t.call(this,"bajaEmpleado")}return D()(a,[{key:"getBajasByEmpleado",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(F.a)({url:"/"+this.uri+"/"+e+"/getBajasByEmpleado",method:"get"})}}]),a}(v.a))("bajaEmpleado"),L=new T("empleado"),M=(new g.a("contratoEmpleado"),new v.a("empleados")),H=new v.a("departamentos"),O=new v.a("puestos"),z=new v.a("estados"),J={name:"EmpleadosList",components:{Pagination:k.a,EmpleadosAltaDialog:y,EmpleadosHistorialDialog:w.a,EmpleadosHistorialSueldoDialog:E.a},directives:{waves:d.a,permission:p.a,role:m.a},created:function(){this.getList()},data:function(){return{loading:!0,dialogoPrintRenuncia:!1,dialogoPrintFiniquito:!1,fechaRenuncia:"",currentBajaEmpleado:s()({id:0,fecha_baja:"",fecha_inicial_labores:"",tipo_baja_id:"",dias_laborados:0,vacaciones:0,prima_vacacional:0,aguinaldo:0,firmado:0,empleado_id:0,motivo:"",tipo:0,notas:"",salario:0,salario_diario:0},"empleado_id",0),activeName:"first",list:[],total:0,query:{page:1,limit:15,keyword:"",role:"",bajas:""},queryPuesto:{departamento_id:0},formVisible:!1,formTitle:"",current:{id:0,numero_empleado:"",nombre:"",apellidos:"",telefono_casa:"",telefono_celular:"",email:"",fecha_nacimiento:"",fecha_entrada:"",direccion:"",colonia:"",ciudad:"",estado_id:"",rfc:"",nss:"",curp:"",puesto_id:"",departamento_id:"",documentos:[]},tipos_empleado_list:[{id:1,tipo:"Empleado de planta"},{id:2,tipo:"Empleado eventual"}],departamentos_list:[],loadingDepartamentos:!1,puestos_list:[],loadingPuestos:!1,estados_list:[],contratos:[],rules:{fecha_entrada:[{required:!0,message:"Selecciona una Fecha de Entrada",trigger:"blur"}],fecha_nacimiento:[{required:!0,message:"Selecciona una Fecha de Nac.",trigger:"blur"}],nombre:[{required:!0,message:"Ingresa los Nombres",trigger:"blur"}],apellidos:[{required:!0,message:"Ingresa los Apellidos",trigger:"blur"}],rfc:[{required:!0,message:"Ingresa el RFC",trigger:"blur"}],nss:[{required:!0,message:"Ingresa el NSS",trigger:"blur"}],curp:[{required:!0,message:"Ingresa el Curp",trigger:"blur"}],direccion:[{required:!0,message:"Ingresa la Dirección",trigger:"blur"}],colonia:[{required:!0,message:"Ingresa la Colonia",trigger:"blur"}],ciudad:[{required:!0,message:"Ingresa la Ciudad",trigger:"blur"}],estado_id:[{required:!0,message:"Selecciona un Estado",trigger:"change"}],puesto_id:[{required:!0,message:"Selecciona un Puesto",trigger:"change"}]},dialogoDocumentosAgregarVisible:!1,fileList:[]}},computed:{disableEditar:function(){return 0==this.current.id},disableImprimir:function(){return""==this.fechaRenuncia||null==this.fechaRenuncia}},methods:{getEstados:function(){var e=this;return i()(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.list();case 2:a=t.sent,r=a.data,a.meta,e.estados_list=r;case 6:case"end":return t.stop()}}),t)})))()},getDepartamentos:function(){var e=this;return i()(o.a.mark((function t(){var a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.puestos_list=[],e.loadingDepartamentos=!0,a=e.query,a.limit,a.page,t.next=5,H.list(e.query);case 5:r=t.sent,n=r.data,r.meta,e.departamentos_list=n,e.loadingDepartamentos=!1;case 10:case"end":return t.stop()}}),t)})))()},getPuestos:function(){var e=this;return i()(o.a.mark((function t(){var a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.puestos_list=[],0!=e.current.departamento_id){t.next=3;break}return t.abrupt("return",!1);case 3:return e.queryPuesto.departamento_id=e.current.departamento_id,e.loadingPuestos=!0,a=e.queryPuesto,a.limit,a.page,t.next=8,O.list(e.queryPuesto);case 8:r=t.sent,n=r.data,r.meta,e.puestos_list=n,e.loadingPuestos=!1;case 13:case"end":return t.stop()}}),t)})))()},changeDepartamentos:function(){this.getPuestos()},handleCurrentChangeTable:function(e){console.log("HANDLE CURRENT CHANGE TABLE"),console.log(e),null!=e&&(this.current=e)},setCurrent:function(e){this.$refs.tableList.setCurrentRow(e)},handleCreateForm:function(){this.activeName="first",this.formVisible=!0,this.formTitle="Agregar Nuevo Empleado",this.getDepartamentos(),this.getEstados(),this.clearCurrent()},handleEditForm:function(){this.activeName="first",this.formTitle="Editar Empleado",this.current.departamento_id=this.current.puesto.departamento.id,this.getDepartamentos(),this.getPuestos(),this.getEstados(),this.formVisible=!0},handleDarAltaNuevoForm:function(){this.$refs.EmpleadosAltaDialog.open()},handleHistorialForm:function(){this.$refs.EmpleadosHistorialDialog.open()},handleHistorialSueldoForm:function(){this.$refs.EmpleadosHistorialSueldoDialog.open()},handlePrintRenuncia:function(){var e=this;return i()(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getBajasByEmpleado(e.current.id);case 2:a=t.sent,r=a.data,a.meta,console.log("DATA GET LIST"),console.log(r),r.length>0?(e.currentBajaEmpleado=r[0],e.fechaRenuncia=e.currentBajaEmpleado.fecha_baja,e.dialogoPrintRenuncia=!0):e.$message({type:"warning",message:"Este empleado no tiene renuncias."});case 8:case"end":return t.stop()}}),t)})))()},handlePrintFiniquito:function(){var e=this;return i()(o.a.mark((function t(){var a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getBajasByEmpleado(e.current.id);case 2:a=t.sent,r=a.data,a.meta,r.length>0?(e.currentBajaEmpleado=r[0],e.fechaRenuncia=e.currentBajaEmpleado.fecha_baja,e.dialogoPrintFiniquito=!0):e.$message({type:"warning",message:"Este empleado no tiene renuncias."});case 6:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return i()(o.a.mark((function t(){var a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("GET LIST METHOD"),a=e.query,a.limit,a.page,e.query.bajas=1,e.loading=!0,t.next=6,M.list(e.query);case 6:r=t.sent,n=r.data,r.meta,console.log("GET LIST DATA"),console.log(n),e.list=n,e.loading=!1;case 13:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;var a=e.$loading({target:".el-dialog"});console.log("CURRENT"),console.log(e.current),L.updateDeleted(e.current.id,{current:e.current}).then((function(t){console.log("RESPONSE"),console.log(t),e.$message({message:"Empleado agregado correctamente.",type:"success",duration:5e3}),e.formVisible=!1,e.clearCurrent(),e.getList(),a.close()})).catch((function(e){console.log(e),a.close()}))}))},clearCurrent:function(){this.setCurrent(),this.current={id:0,numero_empleado:"",nombre:"",apellidos:"",telefono_casa:"",telefono_celular:"",email:"",fecha_nacimiento:"",fecha_entrada:"",direccion:"",colonia:"",ciudad:"",estado_id:"",rfc:"",nss:"",curp:"",puesto_id:"",departamento_id:"",documentos:[]}},handleClose:function(e){var t=this;this.$confirm("Está seguro que deseas salir?").then((function(e){t.dialogoDocumentosAgregarVisible=!1})).catch((function(e){}))},handleFilter:function(){this.query.page=1,this.getList()}}},V=(a("u06D"),Object(h.a)(J,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"filter-item"},[a("el-input",{staticClass:"input-with-select",attrs:{size:"small",placeholder:"buscar",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.query.keyword,callback:function(t){e.$set(e.query,"keyword",t)},expression:"query.keyword"}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{slot:"append",size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter},slot:"append"})],1)],1),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:["editar empleados bajas"],expression:"['editar empleados bajas']"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-edit",disabled:e.disableEditar},on:{click:function(t){return e.handleEditForm()}}},[e._v("\n            Editar")]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:["dar alta empleados bajas"],expression:"['dar alta empleados bajas']"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-user",disabled:e.disableEditar},on:{click:function(t){return e.handleDarAltaNuevoForm()}}},[e._v("\n            Dar de Alta de Nuevo")]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:["historial alta baja empleados bajas"],expression:"['historial alta baja empleados bajas']"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-time",disabled:e.disableEditar},on:{click:function(t){return e.handleHistorialForm()}}},[e._v("\n           Historial Alta/baja")]),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"},{name:"permission",rawName:"v-permission",value:["historial sueldos empleados bajas"],expression:"['historial sueldos empleados bajas']"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",icon:"el-icon-money",disabled:e.disableEditar},on:{click:function(t){return e.handleHistorialSueldoForm()}}},[e._v("\n           Historial Sueldos")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["imprimir renuncia empleados bajas"],expression:"['imprimir renuncia empleados bajas']"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{size:"small",type:"primary",icon:"el-icon-printer",disabled:e.disableEditar},on:{click:function(t){return e.handlePrintRenuncia()}}},[e._v("\n            Imprimir Renuncia\n        ")]),e._v(" "),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["imprimir finiquito empleados bajas"],expression:"['imprimir finiquito empleados bajas']"}],staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{size:"small",type:"primary",icon:"el-icon-printer",disabled:e.disableEditar},on:{click:function(t){return e.handlePrintFiniquito()}}},[e._v("\n            Imprimir Finiquito\n        ")])],1),e._v(" "),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableList",staticStyle:{width:"100%","word-wrap":"break-word"},attrs:{data:e.list,"highlight-current-row":"",sortable:"",border:"","tooltip-effect":"light",fit:""},on:{"current-change":e.handleCurrentChangeTable}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ul",{staticStyle:{"list-style":"none"}},[a("li",[a("p",[a("b",[e._v("Dirección:")]),e._v("  "+e._s(t.row.direccion)+","+e._s(t.row.colonia)+". "+e._s(t.row.ciudad)+", "+e._s(t.row.estado.estado)+".")])]),e._v(" "),a("li",[a("p",[a("b",[e._v("Contacto:")]),e._v(" "+e._s(t.row.telefono_casa)+" - "+e._s(t.row.telefono_celular)+" - "+e._s(t.row.email))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"numero_empleado",label:"Núm. de Empleado",align:"center","show-overflow-tooltip":"",sortable:""}}),e._v(" "),a("af-table-column",{attrs:{prop:"apellidos",label:"Apellidos","show-overflow-tooltip":"",sortable:""}}),e._v(" "),a("af-table-column",{attrs:{prop:"nombre",label:"Nombre","show-overflow-tooltip":"",sortable:""}}),e._v(" "),a("af-table-column",{attrs:{prop:"Puesto.no",label:"Puesto (departamento)","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.puesto.nombre)+" ("+e._s(t.row.puesto.departamento.nombre)+")\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"fecha_nacimiento",label:"Fecha de Nac.",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("moment")(t.row.fecha_nacimiento,"YYYY-MMM-DD"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"rfc",label:"RFC",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"nss",label:"NSS",align:"center","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"curp",label:"curp",align:"center","show-overflow-tooltip":""}})],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{layout:"prev, pager, next",total:e.total,page:e.query.page,limit:e.query.limit},on:{"update:page":function(t){return e.$set(e.query,"page",t)},"update:limit":function(t){return e.$set(e.query,"limit",t)},pagination:e.getList}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.formTitle,visible:e.formVisible,width:"60%"},on:{"update:visible":function(t){e.formVisible=t}}},[a("div",{staticClass:"form-container"},[a("el-form",{ref:"form",attrs:{model:e.current,rules:e.rules,"label-position":"top","label-width":"150px"}},[a("el-tabs",{attrs:{stretch:!0},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"General",name:"first"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Numero de Empleado",prop:"numero_empleado"}},[a("el-tag",{attrs:{type:"info"}},[e._v(" "+e._s(""==e.current.numero_empleado?"—":e.current.numero_empleado))])],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Fecha de Entrada",prop:"fecha_entrada"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.current.fecha_entrada,callback:function(t){e.$set(e.current,"fecha_entrada",t)},expression:"current.fecha_entrada"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Fecha de Nacimiento",prop:"fecha_nacimiento"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.current.fecha_nacimiento,callback:function(t){e.$set(e.current,"fecha_nacimiento",t)},expression:"current.fecha_nacimiento"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Nombre",prop:"nombre"}},[a("el-input",{model:{value:e.current.nombre,callback:function(t){e.$set(e.current,"nombre",t)},expression:"current.nombre"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Apellidos",prop:"apellidos"}},[a("el-input",{model:{value:e.current.apellidos,callback:function(t){e.$set(e.current,"apellidos",t)},expression:"current.apellidos"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"RFC",prop:"rfc"}},[a("el-input",{attrs:{maxlength:"13"},model:{value:e.current.rfc,callback:function(t){e.$set(e.current,"rfc",t)},expression:"current.rfc"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"NSS",prop:"nss"}},[a("el-input",{directives:[{name:"mask",rawName:"v-mask",value:"###########",expression:"'###########'"}],model:{value:e.current.nss,callback:function(t){e.$set(e.current,"nss",t)},expression:"current.nss"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"CURP",prop:"curp"}},[a("el-input",{attrs:{maxlength:"13"},model:{value:e.current.curp,callback:function(t){e.$set(e.current,"curp",t)},expression:"current.curp"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Dirección"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"Calle y Numero",prop:"direccion"}},[a("el-input",{model:{value:e.current.direccion,callback:function(t){e.$set(e.current,"direccion",t)},expression:"current.direccion"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Colonia",prop:"colonia"}},[a("el-input",{model:{value:e.current.colonia,callback:function(t){e.$set(e.current,"colonia",t)},expression:"current.colonia"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Ciudad",prop:"ciudad"}},[a("el-input",{model:{value:e.current.ciudad,callback:function(t){e.$set(e.current,"ciudad",t)},expression:"current.ciudad"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Estado",prop:"estado_id"}},[a("el-select",{attrs:{"value-key":"id"},model:{value:e.current.estado_id,callback:function(t){e.$set(e.current,"estado_id",t)},expression:"current.estado_id"}},e._l(e.estados_list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.estado,value:e.id}})})),1)],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Contacto"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Teléfono  de Casa",prop:"telefono_casa"}},[a("el-input",{directives:[{name:"mask",rawName:"v-mask",value:"(###) ###-##-##",expression:"'(###) ###-##-##'"}],model:{value:e.current.telefono_casa,callback:function(t){e.$set(e.current,"telefono_casa",t)},expression:"current.telefono_casa"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Celular",prop:"telefono_celular"}},[a("el-input",{directives:[{name:"mask",rawName:"v-mask",value:"(686) ###-##-##",expression:"'(686) ###-##-##'"}],model:{value:e.current.telefono_celular,callback:function(t){e.$set(e.current,"telefono_celular",t)},expression:"current.telefono_celular"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"Email",prop:"email"}},[a("el-input",{model:{value:e.current.email,callback:function(t){e.$set(e.current,"email",t)},expression:"current.email"}})],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Info. Laboral"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Departamento",prop:"departamento_id"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingDepartamentos,expression:"loadingDepartamentos"}],attrs:{"value-key":"id"},on:{change:function(t){return e.changeDepartamentos()}},model:{value:e.current.departamento_id,callback:function(t){e.$set(e.current,"departamento_id",t)},expression:"current.departamento_id"}},e._l(e.departamentos_list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Puesto",prop:"puesto_id"}},[a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingPuestos,expression:"loadingPuestos"}],attrs:{"value-key":"id"},model:{value:e.current.puesto_id,callback:function(t){e.$set(e.current,"puesto_id",t)},expression:"current.puesto_id"}},e._l(e.puestos_list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})})),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Tipo de Empleado",prop:"tipo_empleado_id"}},[a("el-select",{attrs:{"value-key":"id"},model:{value:e.current.tipo_empleado_id,callback:function(t){e.$set(e.current,"tipo_empleado_id",t)},expression:"current.tipo_empleado_id"}},e._l(e.tipos_empleado_list,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nombre,value:e.id}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}})],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"float-left",on:{click:function(t){e.formVisible=!1}}},[e._v("Cancelar")]),e._v(" "),a("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:function(t){return e.handleSubmit()}}},[e._v("Confirmar")])],1)]),e._v(" "),a("el-dialog",{attrs:{id:"dialogoPrePrint",title:"Imprimir Renuncia",visible:e.dialogoPrintRenuncia,width:"30%"},on:{"update:visible":function(t){e.dialogoPrintRenuncia=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[e._v("\n            Fecha de la Renuncia:\n            ")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{disabled:!0,format:"yyyy-MMM-dd",type:"date"},model:{value:e.fechaRenuncia,callback:function(t){e.fechaRenuncia=t},expression:"fechaRenuncia"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"float-left",attrs:{size:"small"},on:{click:function(t){e.dialogoPrintRenuncia=!1}}},[e._v("Cancelar")]),e._v(" "),a("router-link",{attrs:{target:"_blank",to:{name:"renuncia_empleado_download",params:{fechaRenuncia:JSON.stringify(e.fechaRenuncia),currentBajaEmpleado:JSON.stringify(e.currentBajaEmpleado),currentEmpleado:JSON.stringify(e.current)}}}},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",disabled:e.disableImprimir}},[e._v("\n                    Imprimir Renuncia\n                ")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{id:"dialogoPrePrintFiniquito",title:"Imprimir Finiquito",visible:e.dialogoPrintFiniquito,width:"30%"},on:{"update:visible":function(t){e.dialogoPrintFiniquito=t}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[e._v("\n            Fecha de la Renuncia:\n            ")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-date-picker",{attrs:{disabled:!0,format:"yyyy-MMM-dd",type:"date"},model:{value:e.fechaRenuncia,callback:function(t){e.fechaRenuncia=t},expression:"fechaRenuncia"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"float-left",attrs:{size:"small"},on:{click:function(t){e.dialogoPrintFiniquito=!1}}},[e._v("Cancelar")]),e._v(" "),a("router-link",{attrs:{target:"_blank",to:{name:"finiquito_empleado_download",params:{fechaRenuncia:JSON.stringify(e.fechaRenuncia),currentBajaEmpleado:JSON.stringify(e.currentBajaEmpleado),currentEmpleado:JSON.stringify(e.current)}}}},[a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"0px"},attrs:{type:"primary",size:"small",disabled:e.disableImprimir}},[e._v("\n                    Imprimir Finiquito\n                ")])],1)],1)],1),e._v(" "),a("EmpleadosAltaDialog",{ref:"EmpleadosAltaDialog"}),e._v(" "),a("EmpleadosHistorialDialog",{ref:"EmpleadosHistorialDialog"}),e._v(" "),a("EmpleadosHistorialSueldoDialog",{ref:"EmpleadosHistorialSueldoDialog"})],1)}),[],!1,null,null,null));t.default=V.exports},"b+OS":function(e,t,a){(t=a("JPst")(!1)).push([e.i,"\n.el-select {\n    width:100%;\n}\n.el-transfer-panel{\n    width: 35%;\n}\n.input-with-select .el-input-group__prepend {\n    background-color: #fff;\n}\n.pre-formateado {\n    white-space: pre;\n}\n.el-table .cell {\n    word-break: break-word;\n}\n\n\n",""]),e.exports=t},"i+0/":function(e,t,a){var r=a("b+OS");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,o);r.locals&&(e.exports=r.locals)},rGqK:function(e,t,a){(t=a("JPst")(!1)).push([e.i,"\n.el-date-editor.el-input[data-v-3f57f97d], .el-date-editor.el-input__inner[data-v-3f57f97d] {\n  width: 100%;\n}\n",""]),e.exports=t},u06D:function(e,t,a){"use strict";var r=a("i+0/");a.n(r).a}}]);